# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`profiles::alerting`](#profilesalerting): This class can be used install alerting.
* [`profiles::alerting::alertmanager`](#profilesalertingalertmanager): This class can be used install user alertmanager properties
* [`profiles::alerting::icingaweb2`](#profilesalertingicingaweb2): This class can be used to setup icinga2_web.
* [`profiles::alerting::icingaweb2::auth`](#profilesalertingicingaweb2auth)
* [`profiles::alerting::icingaweb2::businessprocess`](#profilesalertingicingaweb2businessprocess): This class is used to setup the businessprocess module on icingaweb2.  It manages all the needed dependencies for setting up the businessproc
* [`profiles::alerting::icingaweb2::consul`](#profilesalertingicingaweb2consul): This class is used to setup the consul module on icingaweb2.  It manages all the needed dependencies for setting up the consul module and exe
* [`profiles::alerting::icingaweb2::cube`](#profilesalertingicingaweb2cube): This class is used to setup the cube module on icingaweb2.  It manages all the needed dependencies for setting up the cube module and execute
* [`profiles::alerting::icingaweb2::director`](#profilesalertingicingaweb2director): This class is used to setup the director module on icingaweb2.  It manages all the needed dependencies for setting up the director module and
* [`profiles::alerting::icingaweb2::fileshipper`](#profilesalertingicingaweb2fileshipper): This class is used to setup the fileshipper module on icingaweb2.  It manages all the needed dependencies for setting up the fileshipper modu
* [`profiles::alerting::icingaweb2::grafana`](#profilesalertingicingaweb2grafana): This class is used to setup the grafana module on icingaweb2.
* [`profiles::alerting::icingaweb2::graphite`](#profilesalertingicingaweb2graphite): This class is used to setup the graphite module on icingaweb2.  It manages all the needed dependencies for setting up the graphite module and
* [`profiles::alerting::icingaweb2::incubator`](#profilesalertingicingaweb2incubator): This class is used to setup the incubator module on icingaweb2.  It manages all the needed dependencies for setting up the incubator module a
* [`profiles::alerting::icingaweb2::ipl`](#profilesalertingicingaweb2ipl): This class is used to setup the ipl module on icingaweb2.  It manages all the needed dependencies for setting up the ipl module and executes 
* [`profiles::alerting::icingaweb2::nomad`](#profilesalertingicingaweb2nomad): This class is used to setup the nomad module on icingaweb2.  It manages all the needed dependencies for setting up the nomad module and execu
* [`profiles::alerting::icingaweb2::puppetdb`](#profilesalertingicingaweb2puppetdb): This class is used to setup the puppetdb module on icingaweb2.  It manages all the needed dependencies for setting up the puppetdb module and
* [`profiles::alerting::icingaweb2::reactbundle`](#profilesalertingicingaweb2reactbundle): This class is used to setup the reactbundle module on icingaweb2.  It manages all the needed dependencies for setting up the reactbundle modu
* [`profiles::alerting::icingaweb2::toplevelview`](#profilesalertingicingaweb2toplevelview): This class is used to setup the toplevelview module on icingaweb2.  It manages all the needed dependencies for setting up the toplevelview mo
* [`profiles::bootstrap`](#profilesbootstrap): This class can be used to setup a bare minimum node, on top of which we can add the required technology stack.
* [`profiles::bootstrap::accounts`](#profilesbootstrapaccounts): This class can be used install user accounts properties
* [`profiles::bootstrap::dnsmasq`](#profilesbootstrapdnsmasq): This class can be used install dnsmasq
* [`profiles::bootstrap::example`](#profilesbootstrapexample): A short summary of the purpose of this class
* [`profiles::bootstrap::fail2ban`](#profilesbootstrapfail2ban): This class can be used install fail2ban
* [`profiles::bootstrap::firewall`](#profilesbootstrapfirewall): This class can be used install user firewall properties
* [`profiles::bootstrap::network`](#profilesbootstrapnetwork): This class can be used install network
* [`profiles::bootstrap::puppet`](#profilesbootstrappuppet): This class can be used install user puppet properties
* [`profiles::bootstrap::repositories`](#profilesbootstraprepositories): This class can be used install user repositories properties
* [`profiles::bootstrap::resolv`](#profilesbootstrapresolv): This class can be used install resolv
* [`profiles::bootstrap::ssh`](#profilesbootstrapssh): This class can be used install ssh components.
* [`profiles::bootstrap::time`](#profilesbootstraptime): This class can be used install time
* [`profiles::cache`](#profilescache): This class can be used install cache components.
* [`profiles::cache::memcached`](#profilescachememcached): This class can be used install user memcached properties
* [`profiles::dashboard`](#profilesdashboard): This class can be used install dashboard.
* [`profiles::dashboard::icinga2`](#profilesdashboardicinga2): This class can be used install the icinga2 dashboard: https://github.com/dnsmichi/dashing-icinga2  ex: profile::dashboard::icinga2::docker_en
* [`profiles::dashboard::smashing`](#profilesdashboardsmashing): This class can be used install user smashing properties
* [`profiles::database`](#profilesdatabase): This class can be used install metrics.
* [`profiles::database::influxdb`](#profilesdatabaseinfluxdb): This class can be used install influxdb
* [`profiles::database::mongodb`](#profilesdatabasemongodb): This class can be used install mongodb
* [`profiles::database::mysql`](#profilesdatabasemysql): This class can be used install mysql
* [`profiles::database::neo4j`](#profilesdatabaseneo4j): This class can be used install neo4j components.
* [`profiles::database::postgresql`](#profilesdatabasepostgresql): This class can be used install postgresql
* [`profiles::dns`](#profilesdns): This class can be used install dns.
* [`profiles::dns::bind`](#profilesdnsbind): This class can be used install bind9
* [`profiles::logging`](#profileslogging): This class can be used install logging.
* [`profiles::logging::elasticsearch`](#profilesloggingelasticsearch): This class can be used install elasticsearch components.
* [`profiles::logging::kibana`](#profilesloggingkibana): This class can be used install kibana components.
* [`profiles::logging::loki`](#profilesloggingloki): This class can be used install loki components.
* [`profiles::mail`](#profilesmail): This class can be used install mail.
* [`profiles::mail::mailhog`](#profilesmailmailhog): This class can be used install user mailhog properties
* [`profiles::metrics`](#profilesmetrics): This class can be used install metrics components
* [`profiles::metrics::carbon`](#profilesmetricscarbon): == Class: profiles::metrics::carbon  Profile for carbon metric solution  === Examples  === Parameters
* [`profiles::metrics::grafana`](#profilesmetricsgrafana): == Class: profiles::metrics::grafana  This class can be used to setup grafana.  === Examples  === Parameters
* [`profiles::metrics::graphite_web`](#profilesmetricsgraphite_web): == Class profiles::metrics::graphite_web  This class can be used to install graphite_web, a python graphite web frontend.  === Examples  clas
* [`profiles::monitoring`](#profilesmonitoring): This class can be used install monitoring components
* [`profiles::monitoring::carbon_relay`](#profilesmonitoringcarbon_relay): This class can be used install carbon_relay properties
* [`profiles::monitoring::collectd`](#profilesmonitoringcollectd): This class can be used install collectd
* [`profiles::monitoring::icinga2`](#profilesmonitoringicinga2): This class can be used to setup icinga2.
* [`profiles::monitoring::icinga2::slack`](#profilesmonitoringicinga2slack): Class to manage icinga2 slack integration.  Dont include this class directly.
* [`profiles::monitoring::logstash`](#profilesmonitoringlogstash): This class can be used install logstash
* [`profiles::monitoring::prometheus`](#profilesmonitoringprometheus): This class can be used install user prometheus properties
* [`profiles::monitoring::prometheus::graphite_exporter`](#profilesmonitoringprometheusgraphite_exporter): Class to manage prometheus graphite exporter
* [`profiles::monitoring::prometheus::node_exporter`](#profilesmonitoringprometheusnode_exporter): Class to manage prometheus node exporter
* [`profiles::monitoring::prometheus::pushgateway`](#profilesmonitoringprometheuspushgateway): Class to manage prometheus node exporter
* [`profiles::monitoring::prometheus::statsd_exporter`](#profilesmonitoringprometheusstatsd_exporter): Class to manage prometheus statsd exporter
* [`profiles::monitoring::promtail`](#profilesmonitoringpromtail): This class can be used install promtail
* [`profiles::monitoring::statsd`](#profilesmonitoringstatsd): This class can be used install statsd properties
* [`profiles::mq`](#profilesmq): This class can be used install mq components.
* [`profiles::mq::activemq`](#profilesmqactivemq): This class can be used install user activemq properties
* [`profiles::orchestration`](#profilesorchestration): This class can be used install orchestration components.
* [`profiles::orchestration::consul`](#profilesorchestrationconsul): This class can be used install consul components.
* [`profiles::orchestration::mcollective`](#profilesorchestrationmcollective): This class can be used install user mcollective properties
* [`profiles::orchestration::rundeck`](#profilesorchestrationrundeck): This class can be used install rundeck components.
* [`profiles::orchestration::rundeck::puppetdb`](#profilesorchestrationrundeckpuppetdb): Class to manage rundeck puppetdb integration.  Dont include this class directly.
* [`profiles::puppet`](#profilespuppet): This class can be used install puppet components.
* [`profiles::puppet::foreman`](#profilespuppetforeman): This class can be used install user foreman properties
* [`profiles::puppet::foreman::params`](#profilespuppetforemanparams): Class to manage foreman parameters.  Dont include this class directly.
* [`profiles::puppet::foreman_proxy`](#profilespuppetforeman_proxy): This class can be used install user foreman_proxy properties
* [`profiles::puppet::puppetdb`](#profilespuppetpuppetdb): This class can be used install user puppetdb properties
* [`profiles::puppet::r10k`](#profilespuppetr10k): This class can be used install user r10k properties
* [`profiles::repo`](#profilesrepo): This class can be used install repo components
* [`profiles::repo::aptly`](#profilesrepoaptly): This class can be used install aptly components.
* [`profiles::repo::nexus`](#profilesreponexus): This class can be used install nexus components.
* [`profiles::runtime`](#profilesruntime): This class can be used install runtime components.
* [`profiles::runtime::docker`](#profilesruntimedocker): This class can be used install docker components.
* [`profiles::runtime::golang`](#profilesruntimegolang): This class can be used install golang
* [`profiles::runtime::java`](#profilesruntimejava): This class can be used install java components.
* [`profiles::runtime::nodejs`](#profilesruntimenodejs): This class can be used install nodejs
* [`profiles::runtime::php`](#profilesruntimephp): This class can be used install php
* [`profiles::runtime::php::cachetool`](#profilesruntimephpcachetool): This class can be used to install cachetool
* [`profiles::runtime::php::repo`](#profilesruntimephprepo)
* [`profiles::runtime::python`](#profilesruntimepython): This class can be used install user python properties
* [`profiles::runtime::ruby`](#profilesruntimeruby): This class can be used install ruby
* [`profiles::runtime::scala`](#profilesruntimescala): This class can be used install scala components.
* [`profiles::scheduling`](#profilesscheduling): This class can be used install scheduling components.
* [`profiles::scheduling::nomad`](#profilesschedulingnomad): This class can be used install nomad components.
* [`profiles::scheduling::nomad::cni_plugins`](#profilesschedulingnomadcni_plugins): This class can be used install nomad cni plugins.
* [`profiles::security`](#profilessecurity): This class can be used install security components.
* [`profiles::security::selinux`](#profilessecurityselinux): This class can be used install selinux components.
* [`profiles::security::vault`](#profilessecurityvault): This class can be used install vault components.
* [`profiles::storage`](#profilesstorage): A short summary of the purpose of this class
* [`profiles::storage::minio`](#profilesstorageminio): A short summary of the purpose of this class
* [`profiles::streaming`](#profilesstreaming): This class can be used install streaming and zookeeper.
* [`profiles::streaming::flink`](#profilesstreamingflink): This class can be used to setup flink.
* [`profiles::streaming::kafka`](#profilesstreamingkafka): This class can be used install kafka components.
* [`profiles::streaming::zookeeper`](#profilesstreamingzookeeper): This class can be used install zookeeper components.
* [`profiles::testing`](#profilestesting): This class can be used install testing components.
* [`profiles::testing::develop`](#profilestestingdevelop): This class can be used install develop components.
* [`profiles::testing::jenkins`](#profilestestingjenkins): This class can be used install jenkins components.
* [`profiles::tools`](#profilestools): This class can be used install tools components.
* [`profiles::tools::compile`](#profilestoolscompile): This class can be used install compile components.
* [`profiles::tools::package`](#profilestoolspackage): This class can be used install packaging dependencies
* [`profiles::tracing`](#profilestracing): A short summary of the purpose of this class
* [`profiles::tracing::tempo`](#profilestracingtempo): A short summary of the purpose of this class
* [`profiles::website`](#profileswebsite): == Class: profiles::website  This class can be used install website components  === Examples  === Parameters
* [`profiles::website::apache`](#profileswebsiteapache): This class can be used install apache and web properties
* [`profiles::website::haproxy`](#profileswebsitehaproxy): This class can be used install haproxy
* [`profiles::website::letsencrypt`](#profileswebsiteletsencrypt): This class can be used install user letsencrypt properties
* [`profiles::website::nginx`](#profileswebsitenginx): Class: profiles::website::nginx  This class can be used install nginx and web properties  === Examples  === Parameters
* [`profiles::website::traefik`](#profileswebsitetraefik): Class: profiles::website::traefik  This class can be used install traefik and web properties  === Examples
* [`profiles::website::traefik2`](#profileswebsitetraefik2): A short summary of the purpose of this class
* [`profiles::website::uwsgi`](#profileswebsiteuwsgi): == Class: profiles::website::uwsgi  Profile for uwsgi including plugins.  === Parameters

### Defined types

* [`profiles::bootstrap::disk::mount`](#profilesbootstrapdiskmount): This class can be used install user mount properties
* [`profiles::bootstrap::firewall::entry`](#profilesbootstrapfirewallentry): This class can be used install user firewall properties
* [`profiles::bootstrap::sysctl::entry`](#profilesbootstrapsysctlentry): This class can be used install user sysctl properties
* [`profiles::database::postgresql::db`](#profilesdatabasepostgresqldb): This class can be used to create pgsql databases
* [`profiles::dns::bind::zone`](#profilesdnsbindzone): This class can be used to create a bind9 zone
* [`profiles::metrics::grafana::dashboard`](#profilesmetricsgrafanadashboard): == Type: profiles::metrics::grafana::dashboard  Type to manage grafana dashboard  === Examples  === Params
* [`profiles::metrics::grafana::datasource`](#profilesmetricsgrafanadatasource): Class to manage grafana datasources.
* [`profiles::orchestration::consul::service`](#profilesorchestrationconsulservice): This class can be used to create a consul service
* [`profiles::puppet::foreman::plugin`](#profilespuppetforemanplugin): Class to manage foreman plugins.
* [`profiles::puppet::foreman::setting`](#profilespuppetforemansetting): Class to manage foreman parameters.
* [`profiles::runtime::php::pool`](#profilesruntimephppool): This class can be used to create a php-fpm pool
* [`profiles::testing::jenkins::plugin`](#profilestestingjenkinsplugin): This class can be used to install a jenkins plugin
* [`profiles::website::nginx::proxy`](#profileswebsitenginxproxy): This class can be used to create a nginx proxy
* [`profiles::website::nginx::vhost`](#profileswebsitenginxvhost): This class can be used to create a nginx vhost

### Data types

* [`Profiles::FirewallAction`](#profilesfirewallaction)
* [`Profiles::FirewallChain`](#profilesfirewallchain)
* [`Profiles::FirewallProtocol`](#profilesfirewallprotocol)
* [`Profiles::FirewallProvider`](#profilesfirewallprovider)
* [`Profiles::FirewallState`](#profilesfirewallstate)
* [`Profiles::InstallMethod`](#profilesinstallmethod)

### Plans

* [`profiles::apt_update`](#profilesapt_update)
* [`profiles::puppet_run`](#profilespuppet_run)
* [`profiles::r10k_deploy`](#profilesr10k_deploy)
* [`profiles::yum_update`](#profilesyum_update)

## Classes

### `profiles::alerting`

This class can be used install alerting.

#### Examples

##### when declaring the alerting class

```puppet
class { '::profiles::alerting': }
```

#### Parameters

The following parameters are available in the `profiles::alerting` class.

##### `alertmanager`

Data type: `Boolean`

Manage alertmanager on this node.

Default value: ``false``

##### `icingaweb2`

Data type: `Boolean`

Manage icingaweb on this node.

Default value: ``false``

### `profiles::alerting::alertmanager`

This class can be used install user alertmanager properties

#### Examples

##### when declaring the alertmanager class

```puppet
class { '::profiles::alerting::alertmanager': }
```

#### Parameters

The following parameters are available in the `profiles::alerting::alertmanager` class.

##### `global`

Data type: `Hash`

Global settings

Default value: `{
    'smtp_smarthost' =>'localhost:25',
    'smtp_from'=>'alertmanager@localhost'
  }`

##### `route`

Data type: `Hash`

Routes.

Default value: `{
    'group_by'       => [ 'alertname', 'cluster', 'service' ],
    'group_wait'     => '30s',
    'group_interval' => '5m',
    'repeat_interval'=> '3h',
    'receiver'       => 'Admin',
  }`

##### `receivers`

Data type: `Array`

Receivers.

Default value: `[
    { 'name' => 'Admin',
      'email_configs'=> [ { 'to'=> 'root@localhost' }]
    }
  ]`

##### `inhibit_rules`

Data type: `Array`

Inhibit rules.

Default value: `[
    { 'source_match' => { 'severity'=> 'critical' },
      'target_match'=> { 'severity'=>'warning'},
      'equal'=>['alertname','cluster','service']
    }
  ]`

##### `install_method`

Data type: `String`

How to install

Default value: `'package'`

##### `version`

Data type: `String`

Version to install

Default value: `'0.21.0'`

### `profiles::alerting::icingaweb2`

This class can be used to setup icinga2_web.

#### Examples

##### when declaring the node role

```puppet
class { '::profiles::alerting::icinga2_web': }
```

#### Parameters

The following parameters are available in the `profiles::alerting::icingaweb2` class.

##### `api_password`

Data type: `String`

Api password.

Default value: `'icinga'`

##### `api_user`

Data type: `String`

Api user.

Default value: `'root'`

##### `database_host`

Data type: `String`

Db host.

Default value: `'127.0.0.1'`

##### `database_name`

Data type: `String`

Db name.

Default value: `'icingaweb2'`

##### `database_password`

Data type: `String`

Db password.

Default value: `'icingaweb2'`

##### `database_user`

Data type: `String`

Db user.

Default value: `'icingaweb2'`

##### `ido_database_host`

Data type: `String`

Ido host.

Default value: `'localhost'`

##### `ido_database_name`

Data type: `String`

Ido name.

Default value: `'icinga2'`

##### `ido_database_password`

Data type: `String`

Ido password.

Default value: `'icinga2'`

##### `ido_database_user`

Data type: `String`

Ido user.

Default value: `'icinga2'`

##### `manage_repo`

Data type: `Boolean`

Manage icinga2 web repos.

Default value: ``false``

##### `modules`

Data type: `Array`

Include other icingaweb2 modules.

Default value: `[]`

##### `roles`

Data type: `Hash`

Additional roles.

Default value: `{}`

##### `database_grant`

Data type: `String`



Default value: `'all'`

##### `manage_database`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `sd_service_name`

Data type: `String`



Default value: `'icinga'`

##### `sd_service_tags`

Data type: `Array`



Default value: `['metrics']`

### `profiles::alerting::icingaweb2::auth`

The profiles::alerting::icingaweb2::auth class.

#### Parameters

The following parameters are available in the `profiles::alerting::icingaweb2::auth` class.

##### `bind_dn`

Data type: `String`



##### `bind_pw`

Data type: `String`



##### `hostname`

Data type: `String`



##### `ldap_userclass`

Data type: `String`



##### `root_dn`

Data type: `String`



##### `auth_type`

Data type: `String`



Default value: `'ldap'`

##### `encryption`

Data type: `String`



Default value: `'none'`

##### `ldap_filter`

Data type: `String`



Default value: `''`

##### `port`

Data type: `Integer`



Default value: `389`

### `profiles::alerting::icingaweb2::businessprocess`

This class is used to setup the businessprocess module on icingaweb2.

It manages all the needed dependencies for setting up the businessprocess module
and executes the kickstart.

#### Examples

##### when including it

```puppet
class { '::profiles::alerting::icingaweb2::businessprocess': }
```

#### Parameters

The following parameters are available in the `profiles::alerting::icingaweb2::businessprocess` class.

##### `version`

Data type: `String`



Default value: `'v2.3.0'`

### `profiles::alerting::icingaweb2::consul`

This class is used to setup the consul module on icingaweb2.

It manages all the needed dependencies for setting up the consul module
and executes the kickstart.

#### Examples

##### when including it

```puppet
class { '::profiles::alerting::icingaweb2::consul': }
```

#### Parameters

The following parameters are available in the `profiles::alerting::icingaweb2::consul` class.

##### `ensure`

Data type: `Enum['absent', 'present']`



Default value: `'present'`

##### `git_repository`

Data type: `String`



Default value: `'https://github.com/attachmentgenie/icingaweb2-module-consul.git'`

##### `git_revision`

Data type: `Optional[String]`



Default value: ``undef``

### `profiles::alerting::icingaweb2::cube`

This class is used to setup the cube module on icingaweb2.

It manages all the needed dependencies for setting up the cube module
and executes the kickstart.

#### Examples

##### when including it

```puppet
class { '::profiles::alerting::icingaweb2::cube': }
```

#### Parameters

The following parameters are available in the `profiles::alerting::icingaweb2::cube` class.

##### `version`

Data type: `String`



Default value: `'v1.1.1'`

### `profiles::alerting::icingaweb2::director`

This class is used to setup the director module on icingaweb2.

It manages all the needed dependencies for setting up the director module
and executes the kickstart.

#### Examples

##### when including it

```puppet
class { '::profiles::alerting::icingaweb2::director': }
```

#### Parameters

The following parameters are available in the `profiles::alerting::icingaweb2::director` class.

##### `db_name`

Database name for the director db

##### `db_username`

User for the database

##### `db_password`

The password for the user

##### `db_host`

The host where the database lives

##### `api_user`

Data type: `String`

User for connecting to the api

Default value: `$::profiles::alerting::icingaweb2::api_user`

##### `api_password`

Data type: `String`

The api user's password

Default value: `$::profiles::alerting::icingaweb2::api_password`

##### `api_host`

Data type: `String`

The host where the api lives

Default value: `'localhost'`

##### `endpoint`

Data type: `String`

Endpoint to bind to

Default value: `$::fqdn`

##### `database_grant`

Data type: `String`



Default value: `'all'`

##### `database_host`

Data type: `String`



Default value: `'localhost'`

##### `database_name`

Data type: `String`



Default value: `'director'`

##### `database_username`

Data type: `String`



Default value: `'director'`

##### `database_password`

Data type: `String`



Default value: `'director'`

##### `daemon_enable`

Data type: `Boolean`



Default value: ``true``

##### `manage_database`

Data type: `Boolean`



Default value: ``true``

##### `version`

Data type: `Optional[String]`



Default value: `'v1.7.2'`

### `profiles::alerting::icingaweb2::fileshipper`

This class is used to setup the fileshipper module on icingaweb2.

It manages all the needed dependencies for setting up the fileshipper module
and executes the kickstart.

#### Examples

##### when including it

```puppet
class { '::profiles::alerting::icingaweb2::fileshipper': }
```

#### Parameters

The following parameters are available in the `profiles::alerting::icingaweb2::fileshipper` class.

##### `version`

Data type: `String`



Default value: `'v1.1.0'`

### `profiles::alerting::icingaweb2::grafana`

This class is used to setup the grafana module on icingaweb2.

#### Parameters

The following parameters are available in the `profiles::alerting::icingaweb2::grafana` class.

##### `grafana_host`

Data type: `String`

Host grafana listens on

Default value: `'localhost'`

##### `grafana_port`

Data type: `String`

Port grafana listens on

Default value: `'3000'`

##### `grafana_username`

Data type: `String`

Grafana user

Default value: `'icinga2'`

##### `grafana_password`

Data type: `String`

Grafana credentials

Default value: `'icinga2'`

##### `grafana_datasource`

Data type: `String`

Grafana datasource

Default value: `'influxdb'`

##### `git_url`

Data type: `String`

git repo to pull the plugin from

Default value: `'https://github.com/Mikesch-mp/icingaweb2-module-grafana'`

##### `version`

Data type: `String`



Default value: `'v1.3.6'`

### `profiles::alerting::icingaweb2::graphite`

This class is used to setup the graphite module on icingaweb2.

It manages all the needed dependencies for setting up the graphite module
and executes the kickstart.

#### Examples

##### when including it

```puppet
class { '::profiles::alerting::icingaweb2::graphite': }
```

#### Parameters

The following parameters are available in the `profiles::alerting::icingaweb2::graphite` class.

##### `host`

Data type: `Optional[Stdlib::Host]`



Default value: ``undef``

##### `version`

Data type: `String`



Default value: `'v1.1.0'`

### `profiles::alerting::icingaweb2::incubator`

This class is used to setup the incubator module on icingaweb2.

It manages all the needed dependencies for setting up the incubator module
and executes the kickstart.

#### Examples

##### when including it

```puppet
class { '::profiles::alerting::icingaweb2::incubator': }
```

#### Parameters

The following parameters are available in the `profiles::alerting::icingaweb2::incubator` class.

##### `version`

Data type: `String`



Default value: `'v0.5.0'`

### `profiles::alerting::icingaweb2::ipl`

This class is used to setup the ipl module on icingaweb2.

It manages all the needed dependencies for setting up the ipl module
and executes the kickstart.

#### Examples

##### when including it

```puppet
class { '::profiles::alerting::icingaweb2::ipl': }
```

#### Parameters

The following parameters are available in the `profiles::alerting::icingaweb2::ipl` class.

##### `version`

Data type: `String`



Default value: `'v0.5.0'`

### `profiles::alerting::icingaweb2::nomad`

This class is used to setup the nomad module on icingaweb2.

It manages all the needed dependencies for setting up the nomad module
and executes the kickstart.

#### Examples

##### when including it

```puppet
class { '::profiles::alerting::icingaweb2::nomad': }
```

#### Parameters

The following parameters are available in the `profiles::alerting::icingaweb2::nomad` class.

##### `ensure`

Data type: `Enum['absent', 'present']`



Default value: `'present'`

##### `git_repository`

Data type: `String`



Default value: `'https://github.com/attachmentgenie/icingaweb2-module-nomad.git'`

##### `git_revision`

Data type: `Optional[String]`



Default value: ``undef``

### `profiles::alerting::icingaweb2::puppetdb`

This class is used to setup the puppetdb module on icingaweb2.

It manages all the needed dependencies for setting up the puppetdb module
and executes the kickstart.

#### Examples

##### when including it

```puppet
class { '::profiles::alerting::icingaweb2::puppetdb': }
```

#### Parameters

The following parameters are available in the `profiles::alerting::icingaweb2::puppetdb` class.

##### `puppetdb_host`

Data type: `String`



Default value: `$::fqdn`

##### `version`

Data type: `String`



Default value: `'v1.0.0'`

### `profiles::alerting::icingaweb2::reactbundle`

This class is used to setup the reactbundle module on icingaweb2.

It manages all the needed dependencies for setting up the reactbundle module
and executes the kickstart.

#### Examples

##### when including it

```puppet
class { '::profiles::alerting::icingaweb2::reactbundle': }
```

#### Parameters

The following parameters are available in the `profiles::alerting::icingaweb2::reactbundle` class.

##### `version`

Data type: `String`



Default value: `'v0.7.0'`

### `profiles::alerting::icingaweb2::toplevelview`

This class is used to setup the toplevelview module on icingaweb2.

It manages all the needed dependencies for setting up the toplevelview module
and executes the kickstart.

#### Examples

##### when including it

```puppet
class { '::profiles::alerting::icingaweb2::toplevelview': }
```

#### Parameters

The following parameters are available in the `profiles::alerting::icingaweb2::toplevelview` class.

##### `ensure`

Data type: `Enum['absent', 'present']`



Default value: `'present'`

##### `git_repository`

Data type: `String`



Default value: `'https://github.com/Icinga/icingaweb2-module-toplevelview.git'`

##### `git_revision`

Data type: `Optional[String]`



Default value: `'v0.3.1'`

### `profiles::bootstrap`

This class can be used to setup a bare minimum node, on top of which we can add the required technology stack.

#### Examples

##### when declaring the bootstrap class

```puppet
class { '::profiles::bootstrap': }
```

#### Parameters

The following parameters are available in the `profiles::bootstrap` class.

##### `accounts`

Data type: `Boolean`



Default value: ``false``

##### `dnsmasq`

Data type: `Boolean`



Default value: ``false``

##### `fail2ban`

Data type: `Boolean`



Default value: ``false``

##### `firewall`

Data type: `Boolean`



Default value: ``false``

##### `network`

Data type: `Boolean`



Default value: ``false``

##### `ntp`

Data type: `Boolean`



Default value: ``false``

##### `puppet`

Data type: `Boolean`



Default value: ``false``

##### `repos`

Data type: `Boolean`



Default value: ``false``

##### `resolv`

Data type: `Boolean`



Default value: ``false``

##### `ssh`

Data type: `Boolean`



Default value: ``false``

### `profiles::bootstrap::accounts`

This class can be used install user accounts properties

#### Examples

##### when declaring the apache class

```puppet
class { '::profiles::bootstrap::accounts': }
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::accounts` class.

##### `accounts`

Data type: `Hash`

User accounts to manage.

Default value: `{}`

##### `groups`

Data type: `Hash`

Groups to manage.

Default value: `{}`

##### `sudo_confs`

Data type: `Hash`

Sudo rules to manage.

Default value: `{}`

### `profiles::bootstrap::dnsmasq`

This class can be used install dnsmasq

#### Examples

##### when declaring the dnsmasq class

```puppet
class { '::profiles::bootstrap::dnsmasq': }
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::dnsmasq` class.

##### `client_address`

Data type: `Stdlib::Host`



Default value: `'127.0.0.1'`

##### `forward_consul`

Data type: `Boolean`



Default value: ``false``

### `profiles::bootstrap::example`

A description of what this class does

#### Examples

##### 

```puppet
include profiles::bootstrap::example
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::example` class.

##### `client`

Data type: `Boolean`



Default value: ``true``

##### `config`

Data type: `Hash`



Default value: `{}`

##### `config_default`

Data type: `Hash`



Default value: `{}`

##### `database_grant`

Data type: `String`



Default value: `'all'`

##### `database_name`

Data type: `String`



Default value: `'icingaweb2'`

##### `database_password`

Data type: `String`



Default value: `'icingaweb2'`

##### `database_user`

Data type: `String`



Default value: `'icingaweb2'`

##### `data_path`

Data type: `Stdlib::Absolutepath`



Default value: `'/var/lib/example'`

##### `device`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: ``undef``

##### `expose_api`

Data type: `Boolean`



Default value: ``false``

##### `expose_metrics`

Data type: `Boolean`



Default value: ``false``

##### `expose_ui`

Data type: `Boolean`



Default value: ``false``

##### `listen_address`

Data type: `Stdlib::Host`



Default value: `'127.0.0.1'`

##### `manage_database`

Data type: `Boolean`



Default value: ``false``

##### `manage_disk`

Data type: `Boolean`



Default value: ``false``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``false``

##### `manage_package_repo`

Data type: `Boolean`



Default value: ``false``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `manage_sudoersd`

Data type: `Boolean`



Default value: ``false``

##### `manage_sysctl`

Data type: `Boolean`



Default value: ``false``

##### `port`

Data type: `Optional[Stdlib::Port::Unprivileged]`



Default value: `8080`

##### `runmode`

Data type: `Optional[String]`



Default value: ``undef``

##### `sd_service_name`

Data type: `String`



Default value: `'example'`

##### `sd_service_tags`

Data type: `Array`



Default value: `['metrics']`

##### `server`

Data type: `Boolean`



Default value: ``false``

### `profiles::bootstrap::fail2ban`

This class can be used install fail2ban

#### Examples

##### when declaring the apache class

```puppet
class { '::profiles::bootstrap::fail2ban': }
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::fail2ban` class.

##### `services`

Data type: `Array`

Services to control.

Default value: `['ssh', 'ssh-ddos']`

### `profiles::bootstrap::firewall`

This class can be used install user firewall properties

#### Examples

##### when declaring the firewall class

```puppet
class { '::profiles::bootstrap::firewall': }
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::firewall` class.

##### `ensure`

Data type: `String`

Service status.

Default value: `'running'`

##### `entries`

Data type: `Hash`

Firewall entries.

Default value: `{}`

##### `purge`

Data type: `Boolean`

Remove unmanaged firewall entries.

Default value: ``true``

### `profiles::bootstrap::network`

This class can be used install network

#### Examples

##### when declaring the network class

```puppet
class { '::profiles::bootstrap::network': }
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::network` class.

##### `enable_networkmanager`

Data type: `Boolean`



Default value: ``true``

### `profiles::bootstrap::puppet`

This class can be used install user puppet properties

#### Examples

##### when declaring the puppet class

```puppet
class { '::profiles::bootstrap::puppet': }
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::puppet` class.

##### `allow_any_crl_auth`

Data type: `Boolean`

Allow certificate signing by proxied requests.

Default value: ``true``

##### `autosign`

Data type: `Variant[Boolean, Stdlib::Absolutepath]`

Autosigning requests.

Default value: ``true``

##### `autosign_domains`

Data type: `Array`

List of domains to trust while autosigning.

Default value: `['*.vagrant']`

##### `dns_alt_names`

Data type: `Array`

List of additional dns names to sign into certificate.

Default value: `[]`

##### `environment`

Data type: `String`

Environment for node.

Default value: `$::environment`

##### `foreman_repo`

Data type: `Boolean`

Manage foreman repository,

Default value: ``false``

##### `hiera_yaml_datadir`

Data type: `String`

Hiera directory

Default value: `'/var/lib/hiera'`

##### `install_toml`

Data type: `Boolean`

Install toml gem.

Default value: ``false``

##### `install_vault`

Data type: `Boolean`

Install toml gem.

Default value: ``false``

##### `puppetmaster`

Data type: `Optional[String]`

Puppetmaster fqdn

Default value: `'puppet'`

##### `runmode`

Data type: `String`

How to run puppet

Default value: `'service'`

##### `runinterval`

Data type: `Integer`

Run interval.

Default value: `1800`

##### `server`

Data type: `Boolean`

Is this a puppetmaster.

Default value: ``false``

##### `server_additional_settings`

Data type: `Hash`

Additional settings

Default value: `{}`

##### `server_ca`

Data type: `Boolean`

Is this a CA.

Default value: ``true``

##### `server_common_modules_path`

Data type: `Array`

List of module directories.

Default value: `[]`

##### `server_external_nodes`

Data type: `String`

Location of ENC script.

Default value: `'/etc/puppetlabs/puppet/node.rb'`

##### `server_foreman`

Data type: `Boolean`

Send reports to a foreman instance.

Default value: ``false``

##### `server_foreman_url`

Data type: `String`

foreman url.

Default value: `'http://foreman'`

##### `server_jvm_max_heap_size`

Data type: `String`

JVM max heap setting.

Default value: `'512m'`

##### `server_jvm_min_heap_size`

Data type: `String`

JVM min heap setting.

Default value: `'512m'`

##### `server_parser`

Data type: `String`

Puppet parser name.

Default value: `'current'`

##### `server_puppetdb_host`

Data type: `Optional[String]`

Puppetdb fqdn.

Default value: ``undef``

##### `server_reports`

Data type: `String`

How to store reports.

Default value: `'store'`

##### `server_storeconfigs_backend`

Puppetdb version option.

##### `show_diff`

Data type: `Boolean`

Show diff in puppet report.

Default value: ``true``

##### `splay`

Data type: `Boolean`

Start puppet at random time to spread load.

Default value: ``true``

##### `splaylimit`

Data type: `String`

Splay with this timeframe.

Default value: `'1800s'`

##### `srv_domain`

Data type: `String`

domain to query.

Default value: `'example.org'`

##### `use_srv_records`

Data type: `Boolean`

Use srv records.

Default value: ``false``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `sd_service_name`

Data type: `String`



Default value: `'puppet'`

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

##### `server_graphite_host`

Data type: `Optional[Stdlib::Host]`



Default value: ``undef``

##### `server_graphite_port`

Data type: `Optional[Stdlib::Port::Unprivileged]`



Default value: ``undef``

##### `server_ship_metrics`

Data type: `Boolean`



Default value: ``false``

##### `server_storeconfigs`

Data type: `Boolean`



Default value: ``false``

### `profiles::bootstrap::repositories`

This class can be used install user repositories properties

#### Examples

##### when declaring the repositories class

```puppet
class { '::profiles::bootstrap::repositories': }
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::repositories` class.

##### `epel`

Data type: `Boolean`

Configure epel repository (redhat family).

Default value: ``false``

##### `puppetlabs_deps`

Data type: `Boolean`

Configure puppetlabs_deps repository (debian family).

Default value: ``false``

##### `purge`

Purge unmanaged repositories.

##### `remi`

Data type: `Boolean`

Configure remi repository (redhat family).

Default value: ``false``

##### `repositories`

Data type: `Hash`

Repositories to configure.

Default value: `{}`

### `profiles::bootstrap::resolv`

This class can be used install resolv

#### Examples

##### when declaring the resolv class

```puppet
class { '::profiles::bootstrap::resolv': }
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::resolv` class.

##### `name_servers`

Data type: `Array`

Name servers to use in resolv.conf

Default value: `['127.0.0.1']`

##### `domain`

Data type: `Optional[String]`



Default value: ``undef``

##### `searchpath`

Data type: `Array`



Default value: `[]`

### `profiles::bootstrap::ssh`

This class can be used install ssh components.

#### Examples

##### when declaring the ssh class

```puppet
class { '::profiles::bootstrap::ssh': }
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::ssh` class.

##### `allow_agent_forwarding`

Data type: `String`

Allow forwarding of the agent.

Default value: `'no'`

##### `forward_agent`

Data type: `String`

Forward the connection of the agent to the remote machine.

Default value: `'no'`

##### `password_authentication`

Data type: `String`

Accept access using password.

Default value: `'no'`

##### `port`

Data type: `String`

Port to bind to.

Default value: `'22'`

### `profiles::bootstrap::time`

This class can be used install time

#### Examples

##### when declaring the time class

```puppet
class { '::profiles::bootstrap::time': }
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::time` class.

##### `default_timezone`

Data type: `String`



Default value: `'Europe/Amsterdam'`

##### `ntp_servers`

Data type: `Array`



Default value: `[]`

##### `restrict`

Data type: `Array`



Default value: `[]`

##### `set_timezone`

Data type: `Boolean`



Default value: ``false``

### `profiles::cache`

This class can be used install cache components.

#### Examples

##### when declaring the cache class

```puppet
class { '::profiles::cache': }
```

#### Parameters

The following parameters are available in the `profiles::cache` class.

##### `memcached`

Data type: `Boolean`

Manage memcached on this node.

Default value: ``false``

### `profiles::cache::memcached`

This class can be used install user memcached properties

#### Examples

##### when declaring the memcache class

```puppet
class { '::profiles::cache::memcached': }
```

#### Parameters

The following parameters are available in the `profiles::cache::memcached` class.

##### `listen_ip`

Data type: `Optional[Stdlib::Compat::Ip_address]`

Interface to bind to.

Default value: `'127.0.0.1'`

##### `max_memory`

Data type: `Variant[Integer, String]`

Maximum Ram memcached can use.

Default value: `'50%'`

### `profiles::dashboard`

This class can be used install dashboard.

#### Examples

##### when declaring the dashboard class

```puppet
class { '::profiles::dashboard': }
```

#### Parameters

The following parameters are available in the `profiles::dashboard` class.

##### `smashing`

Data type: `Boolean`

Manage smashing on this node.

Default value: ``false``

##### `icinga2`

Data type: `Boolean`

Mange icinga2web on this node.

Default value: ``false``

### `profiles::dashboard::icinga2`

This class can be used install the icinga2 dashboard:
https://github.com/dnsmichi/dashing-icinga2

ex:
profile::dashboard::icinga2::docker_env_parameters:
  ICINGA2_API_HOST: '192.168.20.60'
  ICINGA2_API_PORT: '5665'
  ICINGA2_API_USERNAME: icingadashboard
  ICINGA2_API_PASSWORD: verylongandsecurepw
  ICINGAWEB2_URL: 'http://192.168.20.60/icingaweb2'

#### Examples

##### when declaring the icinga2 class

```puppet
class { '::profiles::dashboard::icinga2': }
```

#### Parameters

The following parameters are available in the `profiles::dashboard::icinga2` class.

##### `api_password`

Data type: `String`

The password of the api user, required.

##### `api_username`

Data type: `String`

The username of the api user.

Default value: `'icingadashboard'`

##### `runmode`

Data type: `Optional[String]`

The way that the dasboard is running, can be package or docker.

Default value: ``undef``

##### `package_name`

Data type: `Optional[String]`

The name of the package, only needed when runmode is package.

Default value: ``undef``

##### `service_name`

Data type: `Optional[String]`

The name of the service, only needed when runmode is package.

Default value: ``undef``

##### `docker_image`

Data type: `Optional[String]`

The name of the docker image, only needed when runmode is docker.

Default value: ``undef``

##### `docker_env_parameters`

Data type: `Optional[Hash]`

A hash containing the environment parameters, only needed when runmode is docker.

### `profiles::dashboard::smashing`

This class can be used install user smashing properties

#### Examples

##### when declaring the smashing class

```puppet
class { '::profiles::dashboard::smashing': }
```

#### Parameters

The following parameters are available in the `profiles::dashboard::smashing` class.

##### `provider`

Data type: `String`

Package provider

Default value: `'gem'`

### `profiles::database`

This class can be used install metrics.

#### Examples

##### when declaring the metrics class

```puppet
class { '::profiles::database': }
```

#### Parameters

The following parameters are available in the `profiles::database` class.

##### `influxdb`

Data type: `Boolean`

Manage influxdb on this node.

Default value: ``false``

##### `mongodb`

Data type: `Boolean`

Manage mongodb on this node.

Default value: ``false``

##### `mysql`

Data type: `Boolean`

Manage mysql on this node.

Default value: ``false``

##### `neo4j`

Data type: `Boolean`

Manage neo4j on this node.

Default value: ``false``

##### `postgresql`

Data type: `Boolean`

Manage postgresql on this node.

Default value: ``false``

### `profiles::database::influxdb`

This class can be used install influxdb

#### Examples

##### when declaring the influxdb class

```puppet
class { '::profiles::database::influxdb': }
```

#### Parameters

The following parameters are available in the `profiles::database::influxdb` class.

##### `manage_repo`

Manage repositories.

##### `data_path`

Data type: `Stdlib::Absolutepath`



Default value: `'/var/lib/influxdb'`

##### `device`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: ``undef``

##### `manage_disk`

Data type: `Boolean`



Default value: ``false``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``false``

##### `manage_package_repo`

Data type: `Boolean`



Default value: ``false``

### `profiles::database::mongodb`

This class can be used install mongodb

#### Examples

##### when declaring the mongodb class

```puppet
class { '::profiles::database::mongodb': }
```

#### Parameters

The following parameters are available in the `profiles::database::mongodb` class.

##### `client_package_name`

Data type: `Optional[String]`



Default value: ``undef``

##### `data_path`

Data type: `Stdlib::Absolutepath`



Default value: `'/var/lib/mongodb'`

##### `device`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: ``undef``

##### `manage_disk`

Data type: `Boolean`



Default value: ``false``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_package_repo`

Data type: `Boolean`



Default value: ``false``

##### `mongos_package_name`

Data type: `Optional[String]`



Default value: ``undef``

##### `server_package_name`

Data type: `Optional[String]`



Default value: ``undef``

##### `use_enterprise_repo`

Data type: `Boolean`



Default value: ``false``

##### `version`

Data type: `String`



Default value: `'4.0.11'`

### `profiles::database::mysql`

This class can be used install mysql

#### Examples

##### when declaring the mysql class

```puppet
class { '::profiles::database::mysql': }
```

#### Parameters

The following parameters are available in the `profiles::database::mysql` class.

##### `databases`

Data type: `Hash`



Default value: `{}`

##### `data_path`

Data type: `Stdlib::Absolutepath`



Default value: `'/var/lib/mysql'`

##### `device`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: ``undef``

##### `listen_address`

Data type: `Any`



Default value: `'localhost'`

##### `manage_disk`

Data type: `Boolean`



Default value: ``false``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `override_options`

Data type: `Hash`



Default value: `{}`

##### `root_password`

Data type: `String`



Default value: `'secret'`

##### `sd_service_name`

Data type: `String`



Default value: `'mysql'`

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

### `profiles::database::neo4j`

This class can be used install neo4j components.

#### Examples

##### when declaring the ne04j class

```puppet
class { '::profiles::database::neo4j': }
```

#### Parameters

The following parameters are available in the `profiles::database::neo4j` class.

##### `data_path`

Data type: `Stdlib::Absolutepath`



Default value: `'/var/lib/neo4j/data'`

##### `device`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: ``undef``

##### `install_method`

Data type: `String`



Default value: `'package'`

##### `manage_disk`

Data type: `Boolean`



Default value: ``false``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_package_repo`

Data type: `Boolean`



Default value: ``false``

##### `version`

Data type: `String`



Default value: `'installed'`

### `profiles::database::postgresql`

This class can be used install postgresql

#### Examples

##### when declaring the postgresql class

```puppet
class { '::profiles::database::postgresql': }
```

#### Parameters

The following parameters are available in the `profiles::database::postgresql` class.

##### `databases`

Data type: `Any`



Default value: `{}`

##### `data_path`

Data type: `Stdlib::Absolutepath`



Default value: `'/var/lib/pgsql'`

##### `device`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: ``undef``

##### `encoding`

Data type: `Any`



Default value: `'UTF-8'`

##### `hba_rules`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `ip_mask_allow_all_users`

Data type: `Any`



Default value: `'127.0.0.1/32'`

##### `listen_address`

Data type: `Any`



Default value: `'localhost'`

##### `manage_disk`

Data type: `Boolean`



Default value: ``false``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_package_repo`

Data type: `Boolean`



Default value: ``false``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `sd_service_name`

Data type: `String`



Default value: `'postgresql'`

##### `sd_service_tags`

Data type: `Array`



Default value: `['metrics']`

##### `version`

Data type: `Any`



Default value: `'11'`

### `profiles::dns`

This class can be used install dns.

#### Examples

##### when declaring the dns class

```puppet
class { '::profiles::dns': }
```

#### Parameters

The following parameters are available in the `profiles::dns` class.

##### `bind`

Data type: `Boolean`

Manage bind on this node.

Default value: ``false``

##### `dnsmasq`

Mange dnsmasqweb on this node.

### `profiles::dns::bind`

This class can be used install bind9

#### Examples

##### when declaring the bind class

```puppet
class { '::profiles::dns::bind': }
```

#### Parameters

The following parameters are available in the `profiles::dns::bind` class.

##### `forward_consul`

Data type: `Boolean`



Default value: ``false``

##### `zones`

Data type: `Hash`



Default value: `{}`

### `profiles::logging`

This class can be used install logging.

#### Examples

##### when declaring the logging class

```puppet
class { '::profiles::logging': }
```

#### Parameters

The following parameters are available in the `profiles::logging` class.

##### `elasticsearch`

Data type: `Boolean`

Manage elasticsearch on this node.

Default value: ``false``

##### `kibana`

Data type: `Boolean`

Manage kibana on this node.

Default value: ``false``

##### `loki`

Data type: `Boolean`



Default value: ``false``

### `profiles::logging::elasticsearch`

This class can be used install elasticsearch components.

#### Examples

##### when declaring the elasticsearch class

```puppet
class { '::profiles::logging::elasticsearch': }
```

#### Parameters

The following parameters are available in the `profiles::logging::elasticsearch` class.

##### `instances`

Data type: `Hash`

ES instances to start.

Default value: `{ "${::fqdn}" => {} }`

##### `manage_repo`

Data type: `Boolean`

Let profile install java.

Default value: ``false``

##### `repo_version`

Data type: `String`

Version family to install.

Default value: `'7.x'`

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `sd_service_name`

Data type: `String`



Default value: `'postgresql'`

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

### `profiles::logging::kibana`

This class can be used install kibana components.

#### Examples

##### when declaring the kibana class

```puppet
class { '::profiles::logging::kibana': }
```

#### Parameters

The following parameters are available in the `profiles::logging::kibana` class.

##### `manage_repo`

Data type: `Boolean`

Let profile install java.

Default value: ``false``

##### `version`

Data type: `String`

Version to install.

Default value: `present`

##### `config`

Data type: `Hash[String[1], Variant[String[1], Integer, Boolean, Array, Hash]]`



Default value: `{}`

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `sd_service_name`

Data type: `String`



Default value: `'kibana'`

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

### `profiles::logging::loki`

This class can be used install loki components.

#### Examples

##### when declaring the loki class

```puppet
class { '::profiles::logging::loki': }
```

#### Parameters

The following parameters are available in the `profiles::logging::loki` class.

##### `schema_config_hash`

Data type: `Hash`



##### `storage_config_hash`

Data type: `Hash`



##### `auth_enabled`

Data type: `Optional[Boolean]`



Default value: ``undef``

##### `chunk_store_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `data_path`

Data type: `Stdlib::Absolutepath`



Default value: `'/var/lib/loki'`

##### `device`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: ``undef``

##### `distributor_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `frontend_worker_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `ingester_client_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `ingester_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `limits_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `manage_disk`

Data type: `Boolean`



Default value: ``false``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `querier_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `runtime_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `sd_service_name`

Data type: `String`



Default value: `'loki'`

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

##### `server_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `table_manager_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `target`

Data type: `Optional[Enum['all', 'querier', 'table-manager', 'ingester', 'distributor']]`



Default value: ``undef``

##### `version`

Data type: `String`



Default value: `'v2.0.0'`

### `profiles::mail`

This class can be used install mail.

#### Examples

##### when declaring the mail class

```puppet
class { '::profiles::mail': }
```

#### Parameters

The following parameters are available in the `profiles::mail` class.

##### `mailhog`

Data type: `Boolean`

Manage mailhog on this node.

Default value: ``false``

### `profiles::mail::mailhog`

This class can be used install user mailhog properties

#### Examples

##### when declaring the mailhog class

```puppet
class { '::profiles::mail::mailhog': }
```

#### Parameters

The following parameters are available in the `profiles::mail::mailhog` class.

##### `install_method`

Data type: `String`

How to install.

Default value: `'package'`

##### `wget_source`

Data type: `Optional[String]`

Location to download mailhog.

Default value: ``undef``

### `profiles::metrics`

This class can be used install metrics components

#### Examples

##### when declaring the monitroin class

```puppet
class { '::profiles::metrics': }
```

#### Parameters

The following parameters are available in the `profiles::metrics` class.

##### `carbon`

Data type: `Boolean`

Manage carbon on this node.

Default value: ``false``

##### `grafana`

Data type: `Boolean`

Manage grafana on this node.

Default value: ``false``

##### `graphite_web`

Data type: `Boolean`

Manage graphite_web on this node.

Default value: ``false``

### `profiles::metrics::carbon`

== Class: profiles::metrics::carbon

Profile for carbon metric solution

=== Examples

=== Parameters

#### Examples

##### Declaring the class

```puppet
class { 'profiles::metrics::carbon': }
```

#### Parameters

The following parameters are available in the `profiles::metrics::carbon` class.

##### `carbon_cache_enabled`

Data type: `Boolean`



Default value: ``true``

##### `carbon_caches`

Data type: `Hash`



Default value: `{}`

##### `carbon_ensure`

Data type: `String`



Default value: `present`

##### `carbon_type`

Data type: `String`



Default value: `'carbon'`

##### `line_receiver_interface`

Data type: `String`



Default value: `'0.0.0.0'`

##### `pickle_receiver_interface`

Data type: `String`



Default value: `'0.0.0.0'`

##### `protobuf_receiver_enabled`

Data type: `String`



Default value: `'False'`

##### `relay_type`

Data type: `String`



Default value: `'carbon'`

##### `udp_listener_enabled`

Data type: `String`



Default value: `'False'`

##### `udp_receiver_interface`

Data type: `String`



Default value: `'0.0.0.0'`

##### `use_whitelist`

Data type: `String`



Default value: `'True'`

### `profiles::metrics::grafana`

== Class: profiles::metrics::grafana

This class can be used to setup grafana.

=== Examples

=== Parameters

#### Examples

##### when declaring the node role

```puppet
class { '::profiles::metrics::grafana': }
```

#### Parameters

The following parameters are available in the `profiles::metrics::grafana` class.

##### `allow_sign_up`

Data type: `Boolean`

Allow users to sign up

Default value: ``false``

##### `allow_org_create`

Data type: `Boolean`

Allow organisations to be setup.

Default value: ``false``

##### `auto_assign_org`

Data type: `Boolean`

Automatically asign an organisation.

Default value: ``true``

##### `auth_assign_org_role`

Data type: `String`

Basic role.

Default value: `'Viewer'`

##### `admin_password`

Data type: `String`

Admin password.

Default value: `'secret'`

##### `admin_user`

Data type: `String`

Admin username

Default value: `'admin'`

##### `cookie_username`

Data type: `String`

Cookie name

Default value: `'grafana_user'`

##### `cookie_remember_name`

Data type: `String`

Cookie remember setting

Default value: `'grafana_remember'`

##### `dashboards`

Data type: `Hash`

Set of dashboards to load

Default value: `{}`

##### `data_source_proxy_whitelist`

Data type: `String`

Proxy Whitelist.

Default value: `''`

##### `datasources`

Data type: `Hash`

List of datasources.

Default value: `{}`

##### `db_datadir`

Data type: `String`

Directory to store data in.

Default value: `'/var/lib/pgsql/data'`

##### `db_host`

Data type: `String`

Db connection string

Default value: `'127.0.0.1:5432'`

##### `db_name`

Data type: `String`

DB name.

Default value: `'grafana'`

##### `db_password`

Data type: `String`

DB password.

Default value: `''`

##### `db_path`

Data type: `Optional[String]`

DB path [sqlite only]

Default value: ``undef``

##### `db_type`

Data type: `String`

DB type,

Default value: `'sqlite3'`

##### `db_user`

Data type: `String`

DB user.

Default value: `''`

##### `disable_gravatar`

Data type: `Boolean`

Disable gravatar downloadingg

Default value: ``false``

##### `domain`

Data type: `String`

Part of the root_url.

Default value: `'localhost'`

##### `extra_cfg`

Data type: `Hash`

Additional configuration to pass to grafana

Default value: `{}`

##### `install_method`

Data type: `String`

How to install grafana.

Default value: `'repo'`

##### `http_addr`

Data type: `String`

Address to bing to.

Default value: `'127.0.0.1'`

##### `log_buffer_length`

Data type: `Integer`

Log bufeer length

Default value: `10000`

##### `log_rotate`

Data type: `Boolean`

Log rotation

Default value: ``true``

##### `log_max_lines`

Data type: `Integer`

Log max size

Default value: `1000000`

##### `log_max_lines_shift`

Data type: `Integer`

Log max lines shift

Default value: `28`

##### `log_daily_rotate`

Data type: `Boolean`

Rotate log daily.

Default value: ``true``

##### `login_remember_days`

Data type: `Integer`

Remember Login.

Default value: `7`

##### `log_level`

Data type: `String`

Loglevel

Default value: `'Info'`

##### `log_max_days`

Data type: `Integer`

Keep logs for max days.

Default value: `7`

##### `logmode`

Data type: `String`

Type of logging

Default value: `'console, file'`

##### `manage_repo`

Data type: `Boolean`

Manage repo.

Default value: ``false``

##### `rpm_iteration`

Data type: `String`

RPM iteration to install.

Default value: `'1'`

##### `root_url`

Data type: `String`

Full URL used to access Grafana from a web browser.

Default value: `'%(protocol)s://%(domain)s/'`

##### `secret_key`

Data type: `String`

Secret key.

Default value: `'inWSYLbKCoLko'`

##### `smtp_enable`

Data type: `Boolean`

Enable smtp.

Default value: ``false``

##### `smtp_from_address`

Data type: `String`

Address used when sending out emails.

Default value: `'admin@grafana.localhost'`

##### `smtp_from_name`

Data type: `String`

Name to be used when sending out emails.

Default value: `'Grafana'`

##### `smtp_host`

Data type: `String`

SMTP-server to use.

Default value: `'localhost:25'`

##### `version`

Data type: `String`

Version to install.

Default value: `'7.3.3'`

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `sd_service_tags`

Data type: `Array`



Default value: `['metrics']`

### `profiles::metrics::graphite_web`

== Class profiles::metrics::graphite_web

This class can be used to install graphite_web, a python graphite web frontend.

=== Examples

class { 'profiles::metrics::graphite_web': }

=== Parameters

#### Parameters

The following parameters are available in the `profiles::metrics::graphite_web` class.

##### `carbon_caches`

Data type: `Hash`

List of cache instances.

Default value: `{}`

##### `database_engine`

Data type: `String`

Type of database.

Default value: `'postgresql'`

##### `databases`

Data type: `Hash`

Containing database connection details

Default value: `{ 'default' =>
    { name     => 'graphite',
      engine   => 'django.db.backends.postgresql_psycopg2',
      user     => 'graphite',
      password => 'secret',
      host     => '127.0.0.1'
    }
  }`

##### `debug`

Data type: `String`

Switch for debugging graphite

Default value: `'False'`

##### `memcached_enabled`

Data type: `Boolean`

Use memcache as caching layer

Default value: ``true``

### `profiles::monitoring`

This class can be used install monitoring components

#### Examples

##### when declaring the monitroin class

```puppet
class { '::profiles::monitoring': }
```

#### Parameters

The following parameters are available in the `profiles::monitoring` class.

##### `carbon_relay`

Data type: `Boolean`

Manage carbon_relay on this node.

Default value: ``false``

##### `collectd`

Data type: `Boolean`

Manage collectd on this node.

Default value: ``false``

##### `icinga2`

Data type: `Boolean`

Manage icinga on this node.

Default value: ``false``

##### `logstash`

Data type: `Boolean`

Manage logstash on this node.

Default value: ``false``

##### `prometheus`

Data type: `Boolean`

Manage prometheus on this node.

Default value: ``false``

##### `promtail`

Data type: `Boolean`

Manage promtail on this node.

Default value: ``false``

##### `statsd`

Data type: `Boolean`

Manage statsd on this node.

Default value: ``false``

### `profiles::monitoring::carbon_relay`

This class can be used install carbon_relay properties

#### Examples

##### when declaring the carbon_relay class

```puppet
class { '::profiles::monitoring::carbon_relay': }
```

#### Parameters

The following parameters are available in the `profiles::monitoring::carbon_relay` class.

##### `admin_address`

Data type: `String`

Address to bind the admin interface too (ng only)

Default value: `'127.0.0.1'`

##### `carbon_caches`

Data type: `Hash`

List of carbon caches to forward to.

Default value: `{}`

##### `config_matches`

Data type: `Hash`

Forwarding instructions. (c-relay only)

Default value: `{}`

##### `http_address`

Data type: `String`

Address to bind admin interface to.

Default value: `'127.0.0.1'`

##### `listen_address`

Data type: `String`

Address to bind to.

Default value: `'0.0.0.0'`

##### `relay_type`

Data type: `Enum['carbon', 'carbon-c-relay','carbon-relay-ng']`

What version of the relay to install.

Default value: `'carbon'`

### `profiles::monitoring::collectd`

This class can be used install collectd

#### Examples

##### when declaring the collectd class

```puppet
class { '::profiles::monitoring::collectd': }
```

#### Parameters

The following parameters are available in the `profiles::monitoring::collectd` class.

##### `additional_packages`

Data type: `Hash`

Extra packages to install to satisfy plugin requirements

Default value: `{}`

##### `manage_repo`

Data type: `Boolean`

Configure upstream rpm repo.

Default value: ``false``

##### `manage_service`

Data type: `Boolean`

Run collectd as a service.

Default value: ``true``

##### `minimum_version`

Data type: `String`

Install this version or newer.

Default value: `'5.5'`

##### `plugins`

Data type: `Hash`

List of plugin to install and their settings.

Default value: `{}`

##### `purge_config`

Data type: `Boolean`

Purge default config file.

Default value: ``false``

### `profiles::monitoring::icinga2`

This class can be used to setup icinga2.

#### Examples

##### when declaring the node role

```puppet
class { '::profiles::monitoring::icinga2': }
```

#### Parameters

The following parameters are available in the `profiles::monitoring::icinga2` class.

##### `api_endpoint`

Data type: `Optional[String]`

Public API endpoint.

Default value: ``undef``

##### `api_password`

Data type: `String`

Api password.

Default value: `'icinga'`

##### `api_pki`

Data type: `String`

Cypher to use for api certs.

Default value: `'puppet'`

##### `api_user`

Data type: `String`

Api user.

Default value: `'root'`

##### `api_users`

Data type: `Optional[Hash]`

Hash of api users to generate.

Default value: ``undef``

##### `checkcommands`

Data type: `Hash`

List of checks

Default value: `{}`

##### `client`

Data type: `Boolean`

Is this a icinga client.

Default value: ``true``

##### `confd`

Data type: `Variant[Boolean,String]`

Include conf.d directory or specify your own.

Default value: ``false``

##### `database_host`

Data type: `String`

Db host.

Default value: `'127.0.0.1'`

##### `database_name`

Data type: `String`

Db name.

Default value: `'icinga2'`

##### `database_password`

Data type: `String`

Db password.

Default value: `'icinga2'`

##### `database_user`

Data type: `String`

Db user.

Default value: `'icinga2'`

##### `features`

Data type: `Array`

Enabled features.

Default value: `[ 'checker', 'command', 'mainlog', 'notification' ]`

##### `group`

Data type: `String`

Group

Default value: `'icinga'`

##### `ipaddress`

Primary ipaddress.

##### `manage_repo`

Data type: `Boolean`

Manage icinga repository.

Default value: ``false``

##### `owner`

Data type: `String`

Owner

Default value: `'icinga'`

##### `parent_endpoints`

Data type: `Hash`

Icinga parents.

##### `parent_zone`

Data type: `String`

Icinga zone.

Default value: `'master'`

##### `plugins_package`

Data type: `String`

Package with plugins to install.

Default value: `'nagios-plugins-all'`

##### `server`

Data type: `Boolean`

Is this a icinga masters.

Default value: ``false``

##### `services`

Data type: `Hash`

services

Default value: `{}`

##### `servicegroups`

Data type: `Hash`

Servicegroups

Default value: `{}`

##### `slack`

Data type: `Boolean`

Slack integration.

Default value: ``false``

##### `slack_channel`

Data type: `String`

Slack channel to send notifications to.

Default value: `'#icinga'`

##### `slack_webhook`

Data type: `Optional[String]`

Slack webhook url.

Default value: ``undef``

##### `timeperiods`

Data type: `Hash`

Timeperiods

Default value: `{}`

##### `usergroups`

Data type: `Hash`

User groups

Default value: `{}`

##### `vars`

Data type: `Hash`

Icinga vars.

Default value: `{}`

##### `templates`

Data type: `Hash`

Templates.

Default value: `{}`

##### `notifications`

Data type: `Hash`

Notification objects to generate.

Default value: `{}`

##### `fragments`

Data type: `Hash`

Custom configuration fragments.

Default value: `{}`

##### `database_grant`

Data type: `String`



Default value: `'all'`

##### `graphite_host`

Data type: `Optional[Stdlib::Host]`



Default value: ``undef``

##### `graphite_port`

Data type: `Optional[Stdlib::Port::Unprivileged]`



Default value: ``undef``

##### `manage_database`

Data type: `Boolean`



Default value: ``true``

##### `ship_metrics`

Data type: `Boolean`



Default value: ``false``

### `profiles::monitoring::icinga2::slack`

Class to manage icinga2 slack integration.

Dont include this class directly.

#### Parameters

The following parameters are available in the `profiles::monitoring::icinga2::slack` class.

##### `icinga_endpoint`

Data type: `Any`

Icinga url

##### `slack_webhook`

Data type: `Any`

Slack url

##### `package`

Data type: `Any`

Packagename

Default value: `'icinga2-slack-notifications'`

##### `slack_channel`

Data type: `Any`

Slack channel

Default value: `'#icinga'`

##### `username`

Data type: `Any`

Username

Default value: `'slack'`

### `profiles::monitoring::logstash`

This class can be used install logstash

#### Examples

##### when declaring the logstash class

```puppet
class { '::profiles::monitoring::logstash': }
```

#### Parameters

The following parameters are available in the `profiles::monitoring::logstash` class.

##### `config_files`

Data type: `Hash`

Content for logstash input, filters and output.

Default value: `{}`

##### `ensure`

Data type: `Enum[absent,present]`

Present or absent.

Default value: `present`

##### `group`

Data type: `String`

Logstash group.

Default value: `'root'`

##### `manage_repo`

Data type: `Boolean`

Setup repository to install logstash from.

Default value: ``false``

##### `repo_version`

Data type: `String`

Version family to install from.

Default value: `'5.x'`

##### `user`

Data type: `String`

Logstash user.

Default value: `'root'`

##### `version`

Data type: `Boolean`

Which version of logstash to install.

Default value: ``false``

### `profiles::monitoring::prometheus`

This class can be used install user prometheus properties

#### Examples

##### when declaring the prometheus class

```puppet
class { '::profiles::monitoring::prometheus': }
```

#### Parameters

The following parameters are available in the `profiles::monitoring::prometheus` class.

##### `client`

Data type: `Boolean`



Default value: ``true``

##### `data_path`

Data type: `Stdlib::Absolutepath`



Default value: `'/var/lib/prometheus'`

##### `device`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: ``undef``

##### `graphite_exporters`

Data type: `Boolean`



Default value: ``false``

##### `install_method`

Data type: `Enum['url', 'package', 'none']`



Default value: `'none'`

##### `manage_disk`

Data type: `Boolean`



Default value: ``false``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `sd_service_name`

Data type: `String`



Default value: `'prometheus'`

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `pushgateway`

Data type: `Boolean`



Default value: ``false``

##### `scrape_configs`

Data type: `Array`



Default value: `[ {
    'job_name'        => 'prometheus',
    'scrape_interval' => '10s',
    'scrape_timeout'  => '10s',
    'static_configs'  => [
      {
        'targets' => ['localhost:9090'],
        'labels'  => {'alias' => 'Prometheus'}
      }
    ],
  } ]`

##### `sd_service_tags`

Data type: `Array`



Default value: `['metrics']`

##### `server`

Data type: `Boolean`



Default value: ``false``

##### `prometheus_version`

Data type: `String`



Default value: `'2.22.2'`

### `profiles::monitoring::prometheus::graphite_exporter`

Class to manage prometheus graphite exporter

#### Examples

##### when declaring the carbon_relay class

```puppet
class { '::profiles::monitoring::prometheus::graphite_exporter': }
```

#### Parameters

The following parameters are available in the `profiles::monitoring::prometheus::graphite_exporter` class.

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

##### `sd_service_tags_exporter`

Data type: `Array`



Default value: `['metrics']`

##### `version`

Data type: `String`



Default value: `'0.9.0'`

### `profiles::monitoring::prometheus::node_exporter`

Class to manage prometheus node exporter

#### Examples

##### when declaring the carbon_relay class

```puppet
class { '::profiles::monitoring::prometheus::node_exporter': }
```

#### Parameters

The following parameters are available in the `profiles::monitoring::prometheus::node_exporter` class.

##### `collectors`

Data type: `Array`



Default value: `['diskstats','filesystem','loadavg','meminfo','netdev','stat','tcpstat','time','vmstat']`

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `sd_service_tags`

Data type: `Array`



Default value: `['metrics']`

##### `version`

Data type: `String`



Default value: `'1.0.1'`

### `profiles::monitoring::prometheus::pushgateway`

Class to manage prometheus node exporter

#### Examples

##### when declaring the carbon_relay class

```puppet
class { '::profiles::monitoring::prometheus::pushgateway': }
```

#### Parameters

The following parameters are available in the `profiles::monitoring::prometheus::pushgateway` class.

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `sd_service_tags`

Data type: `Array`



Default value: `['metrics']`

##### `version`

Data type: `String`



Default value: `'1.2.0'`

### `profiles::monitoring::prometheus::statsd_exporter`

Class to manage prometheus statsd exporter

#### Examples

##### when declaring the carbon_relay class

```puppet
class { '::profiles::monitoring::prometheus::statsd_exporter': }
```

#### Parameters

The following parameters are available in the `profiles::monitoring::prometheus::statsd_exporter` class.

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

##### `sd_service_tags_exporter`

Data type: `Array`



Default value: `['metrics']`

##### `version`

Data type: `String`



Default value: `'0.18.0'`

### `profiles::monitoring::promtail`

This class can be used install promtail

#### Examples

##### when declaring the promtail class

```puppet
class { '::profiles::monitoring::promtail': }
```

#### Parameters

The following parameters are available in the `profiles::monitoring::promtail` class.

##### `client_url`

Data type: `Stdlib::HTTPUrl`



##### `checksum`

Data type: `String[1]`



Default value: `'d37e94e6ce0604f9faea7738f9c35d83afbdca9e5e92537600764a3b18cfe088'`

##### `positions_file`

Data type: `Stdlib::Absolutepath`



Default value: `'/tmp/positions.yaml'`

##### `scrape_configs`

Data type: `Array`



Default value: `[
    {
      'job_name' => 'system_secure',
      'static_configs' => [{
        'targets' => ['localhost'],
        'labels'  => {
          'job'  => 'var_log_secure',
          'host' => $::fqdn,
          '__path__' => '/var/log/secure'
        }
      }]
    },
    {
      'job_name' => 'system_messages',
      'static_configs' => [{
        'targets' => ['localhost'],
        'labels'  => {
          'job'  => 'var_log_messages',
          'host' => $::fqdn,
          '__path__' => '/var/log/messages'
        }
      }]
    },
    {
      'job_name' => 'journal',
      'journal' => {
        'max_age' => '12h',
        'labels' => {
          'job'  => 'systemd_journal',
          'host' => $::fqdn,
        }
      },
      'relabel_configs' => [
        {
          'source_labels' => ['__journal__systemd_unit'],
          'target_label' => 'unit',
        }
      ]
    }
  ]`

##### `version`

Data type: `String[1]`



Default value: `'v2.0.0'`

### `profiles::monitoring::statsd`

This class can be used install statsd properties

#### Examples

##### when declaring the statsd class

```puppet
class { '::profiles::monitoring::statsd': }
```

#### Parameters

The following parameters are available in the `profiles::monitoring::statsd` class.

##### `address`

Data type: `String`

Adress to bind to.

Default value: `'127.0.0.1'`

##### `backends`

Data type: `Array`

Which backends to configure.

Default value: `[ './backends/graphite' ]`

##### `flush_interval`

Data type: `Integer`

# of ms to aggregate date before sending.

Default value: `60000`

##### `graphite_host`

Data type: `String`

Graphite address.

Default value: `'127.0.0.1'`

##### `graphite_port`

Data type: `Integer`

Graphite port.

Default value: `2003`

##### `influxdb_database`

Data type: `String`

Database name

Default value: `'statsd'`

##### `influxdb_flush`

Data type: `Boolean`

Flush datapoints

Default value: ``true``

##### `influxdb_host`

Data type: `String`

Influxdb address.

Default value: `'127.0.0.1'`

##### `influxdb_password`

Data type: `String`

DB password.

Default value: `'root'`

##### `influxdb_port`

Data type: `Integer`

Influxdb port.

Default value: `8086`

##### `influxdb_username`

Data type: `String`

DB username.

Default value: `'root'`

##### `influxdb_version`

Data type: `String`

DB version.

Default value: `'1.2'`

##### `install_method`

Data type: `String`

Install method.

Default value: `'yum'`

##### `mgmt_address`

Data type: `String`

Address to bind to.

Default value: `'127.0.0.1'`

##### `port`

Data type: `Integer`

Port to bind to.

Default value: `8125`

### `profiles::mq`

This class can be used install mq components.

#### Examples

##### when declaring the mq class

```puppet
class { '::profiles::mq': }
```

#### Parameters

The following parameters are available in the `profiles::mq` class.

##### `activemq`

Data type: `Boolean`

Manage activemq on this node.

Default value: ``false``

### `profiles::mq::activemq`

This class can be used install user activemq properties

#### Examples

##### when declaring the activemq class

```puppet
class { '::profiles::mq::activemq': }
```

#### Parameters

The following parameters are available in the `profiles::mq::activemq` class.

##### `instance`

Data type: `String`

Instance name.

Default value: `'mcollective'`

##### `mq_admin_username`

Data type: `String`

Admin username.

Default value: `'mco-admin'`

##### `mq_admin_password`

Data type: `String`

Admin password.

Default value: `'marionette'`

##### `mq_cluster_username`

Data type: `String`

Cluster username.

Default value: `'mco-cluster'`

##### `mq_cluster_password`

Data type: `String`

Cluster password.

Default value: `'marionette'`

##### `version`

Data type: `String`

Which version to install.

Default value: `'5.9.1-2.el7'`

##### `webconsole`

Data type: `Boolean`

Install webconsole.

Default value: ``true``

### `profiles::orchestration`

This class can be used install orchestration components.

#### Examples

##### when declaring the orchestration class

```puppet
class { '::profiles::orchestration': }
```

#### Parameters

The following parameters are available in the `profiles::orchestration` class.

##### `consul`

Data type: `Boolean`

Manage consul on this node.

Default value: ``false``

##### `mcollective`

Data type: `Boolean`

Manage mcollective on this node.

Default value: ``false``

##### `rundeck`

Data type: `Boolean`

Manage rundeck on this node.

Default value: ``false``

### `profiles::orchestration::consul`

This class can be used install consul components.

#### Examples

##### when declaring the consul class

```puppet
class { '::profiles::orchestration::consul': }
```

#### Parameters

The following parameters are available in the `profiles::orchestration::consul` class.

##### `checks`

Data type: `Hash`



Default value: `{}`

##### `config`

Data type: `Hash`



Default value: `{}`

##### `config_defaults`

Data type: `Hash`



Default value: `{
    'data_dir'   => '/var/lib/consul',
    'datacenter' => 'vagrant',
  }`

##### `config_dir`

Data type: `Stdlib::Absolutepath`



Default value: `'/etc/consul.d'`

##### `connect`

Data type: `Boolean`



Default value: ``false``

##### `conect_grpc_port`

Data type: `Stdlib::Port::Unprivileged`



Default value: `8502`

##### `connect_sidecar_port_range`

Data type: `String`



Default value: `'21000-21255'`

##### `join_wan`

Data type: `Optional[String[1]]`



Default value: ``undef``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `options`

Data type: `String`



Default value: `'-enable-script-checks -syslog'`

##### `sd_service_name`

Data type: `String`



Default value: `'consul-ui'`

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

##### `server`

Data type: `Boolean`



Default value: ``false``

##### `services`

Data type: `Hash`



Default value: `{}`

##### `version`

Data type: `String`



Default value: `'1.8.5'`

##### `ui`

Data type: `Boolean`



Default value: ``false``

##### `watches`

Data type: `Hash`



Default value: `{}`

### `profiles::orchestration::mcollective`

This class can be used install user mcollective properties

#### Examples

##### when declaring the mcollective class

```puppet
class { '::profiles::orchestration::mcollective': }
```

#### Parameters

The following parameters are available in the `profiles::orchestration::mcollective` class.

##### `client`

Data type: `Boolean`

Manage client settings

Default value: ``false``

##### `client_user`

Data type: `String`

Which user to manage.

Default value: `'vagrant'`

##### `middleware_hosts`

Data type: `Array`

Which activemq servers to connect to.

Default value: `[$::fqdn]`

##### `users`

Data type: `Hash`

Users to manage.

Default value: `{ 'vagrant' => {} }`

### `profiles::orchestration::rundeck`

This class can be used install rundeck components.

#### Examples

##### when declaring the rundeck class

```puppet
class { '::profiles::orchestration::rundeck': }
```

#### Parameters

The following parameters are available in the `profiles::orchestration::rundeck` class.

##### `auth_config`

Data type: `Hash`

Authentication config.

Default value: `{
    'file' => {
      'admin_user'     => 'admin',
      'admin_password' => 'secret',
      'auth_users'     => {},
      'file'           => '/etc/rundeck/realm.properties',
    },
  }`

##### `auth_types`

Data type: `Array`

The method(s) used to authenticate to rundeck.

Default value: `['file']`

##### `grails_server_url`

Data type: `String`

External url.

Default value: `"http://${::fqdn}"`

##### `group`

Data type: `String`

Rundeck user.

Default value: `'rundeck'`

##### `jvm_args`

Data type: `String`

Additional rundeck jvm arguments.

Default value: `''`

##### `manage_repo`

Data type: `Boolean`

Manage rpm repository.

Default value: ``false``

##### `package`

Data type: `String`

Package to install.

Default value: `'3.3.0.20200701'`

##### `projects`

Data type: `Hash`

Projects to manage

Default value: `{}`

##### `puppetdb`

Data type: `Boolean`

Install puppetdb plugin

Default value: ``false``

##### `puppetdb_template`

Data type: `String`

template to create mapping file.

Default value: `'profiles/defaultMapping.json.erb'`

##### `puppetdb_version`

Data type: `String`

What version to install.

Default value: `'0.9.5'`

##### `rundeck_user`

Data type: `String`

Username for the rundeck user.

Default value: `'rundeck'`

##### `user`

Data type: `String`

Rundeck user

Default value: `'rundeck'`

##### `listen_address`

Data type: `Any`



Default value: `'127.0.0.1'`

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `sd_service_name`

Data type: `String`



Default value: `'rundeck'`

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

### `profiles::orchestration::rundeck::puppetdb`

Class to manage rundeck puppetdb integration.

Dont include this class directly.

#### Parameters

The following parameters are available in the `profiles::orchestration::rundeck::puppetdb` class.

##### `group`

Data type: `Any`

Rundeck group.

##### `template`

Data type: `Any`

Template to create mapping file.

##### `rundeck_user`

Data type: `Any`

Rundeck user

##### `version`

Data type: `Any`

What version to install.

##### `user`

Data type: `Any`

Rundeck user

### `profiles::puppet`

This class can be used install puppet components.

#### Examples

##### when declaring the puppet class

```puppet
class { '::profiles::puppet': }
```

#### Parameters

The following parameters are available in the `profiles::puppet` class.

##### `foreman`

Data type: `Any`

Manage foreman on this node.

Default value: ``false``

##### `foreman_proxy`

Data type: `Any`

Manage foreman_proxy on this node.

Default value: ``false``

##### `puppetdb`

Data type: `Any`

Manage puppetdb on this node.

Default value: ``false``

##### `puppetmaster`

Data type: `Any`

Manage puppetmaster on this node.

Default value: ``false``

##### `r10k`

Data type: `Any`

Manage r10k on this node.

Default value: ``false``

### `profiles::puppet::foreman`

This class can be used install user foreman properties

#### Examples

##### when declaring the foreman class

```puppet
class { '::profiles::puppet::foreman': }
```

#### Parameters

The following parameters are available in the `profiles::puppet::foreman` class.

##### `db_host`

Db host.

##### `db_manage`

Manage the DB backend.

##### `db_manage_rake`

Data type: `Boolean`

Manage the DB rake jobs.

Default value: ``true``

##### `db_password`

Db password.

##### `foreman_admin_password`

Data type: `String`

Foreman admin password.

Default value: `'secret'`

##### `foreman_host`

Data type: `String`

Foreman fqdn.

Default value: `$::fqdn`

##### `foreman_repo`

Data type: `String`

Foreman repo to use.

Default value: `'2.1'`

##### `locations_enabled`

Enable locations.

##### `oauth_consumer_key`

Data type: `String`

oauth_consumer_key.

Default value: `'secret'`

##### `oauth_consumer_secret`

Data type: `String`

oauth_consumer_secret.

Default value: `'secret'`

##### `organizations_enabled`

Enable organizations.

##### `passenger`

Data type: `Boolean`

Run behind passenger.

Default value: ``true``

##### `plugins`

Data type: `Hash`

Foreman plugins to install.

Default value: `{}`

##### `protocol`

Data type: `Enum['http','https']`

Protocol to reach Foreman.

Default value: `'https'`

##### `selinux`

Data type: `Boolean`

Install foreman-selinux.

Default value: ``false``

##### `server_ssl_ca`

Data type: `String`

SSL ca.

Default value: `'/etc/puppetlabs/puppet/ssl/certs/ca.pem'`

##### `server_ssl_chain`

Data type: `String`

SSL chain.

Default value: `'/etc/puppetlabs/puppet/ssl/certs/ca.pem'`

##### `server_ssl_cert`

Data type: `String`

SSL cert.

Default value: `"/etc/puppetlabs/puppet/ssl/certs/${::fqdn}.pem"`

##### `server_ssl_key`

Data type: `String`

SSL key.

Default value: `"/etc/puppetlabs/puppet/ssl/private_keys/${::fqdn}.pem"`

##### `server_ssl_crl`

Data type: `String`

SSL crl.

Default value: `'/etc/puppetlabs/puppet/ssl/ca/ca_crl.pem'`

##### `settings`

Data type: `Hash`

List of foreman settings.

Default value: `{}`

##### `unattended`

Data type: `Boolean`

Allow unattended installs.

Default value: ``true``

##### `user_groups`

Data type: `Array`

List of groups for foreman user to join.

Default value: `['puppet']`

##### `database_host`

Data type: `String`



Default value: `'localhost'`

##### `database_grant`

Data type: `String`



Default value: `'all'`

##### `database_name`

Data type: `String`



Default value: `'foreman'`

##### `database_password`

Data type: `String`



Default value: `'foreman'`

##### `database_user`

Data type: `String`



Default value: `'foreman'`

##### `expose_metrics`

Data type: `Boolean`



Default value: ``false``

##### `manage_database`

Data type: `Boolean`



Default value: ``true``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `sd_service_name`

Data type: `String`



Default value: `'foreman'`

##### `sd_service_tags`

Data type: `Array`



Default value: `['metrics']`

### `profiles::puppet::foreman::params`

Class to manage foreman parameters.

Dont include this class directly.

### `profiles::puppet::foreman_proxy`

This class can be used install user foreman_proxy properties

#### Examples

##### when declaring the foreman_proxy class

```puppet
class { '::profiles::puppet::foreman_proxy': }
```

#### Parameters

The following parameters are available in the `profiles::puppet::foreman_proxy` class.

##### `foreman_host`

Data type: `String`

Foreman fqdn.

Default value: `'foreman'`

##### `oauth_consumer_key`

Data type: `String`

oauth_consumer_key.

Default value: `'secret'`

##### `oauth_consumer_secret`

Data type: `String`

oauth_consumer_secret.

Default value: `'secret'`

##### `manage_sudoersd`

Data type: `Boolean`

Whether to manage File['/etc/sudoers.d'] or not.

Default value: ``true``

##### `protocol`

Data type: `String`

Protocol to reach Foreman.

Default value: `'https'`

##### `puppetca`

Data type: `Boolean`

Is there a CA on this node.

Default value: ``false``

##### `version`

Data type: `String`

What version should be installed.

Default value: `'present'`

### `profiles::puppet::puppetdb`

This class can be used install user puppetdb properties

#### Examples

##### when declaring the puppetdb class

```puppet
class { '::profiles::puppet::puppetdb': }
```

#### Parameters

The following parameters are available in the `profiles::puppet::puppetdb` class.

##### `database_host`

Data type: `String`

Db host.

Default value: `'localhost'`

##### `database_password`

Data type: `String`

Db password.

Default value: `'puppetdb'`

##### `listen_address`

Data type: `String`

Interface to bind to.

Default value: `'0.0.0.0'`

##### `manage_firewall`

Manage firewall entries.

##### `ssl_listen_address`

Data type: `String`

Interface to bind ssl to.

Default value: `'0.0.0.0'`

##### `database_grant`

Data type: `String`



Default value: `'all'`

##### `database_name`

Data type: `String`



Default value: `'puppetdb'`

##### `database_user`

Data type: `String`



Default value: `'puppetdb'`

##### `install_client_tools`

Data type: `Boolean`



Default value: ``true``

##### `manage_database`

Data type: `Boolean`



Default value: ``true``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `sd_service_name`

Data type: `String`



Default value: `'puppetdb'`

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

### `profiles::puppet::r10k`

This class can be used install user r10k properties

#### Examples

##### when declaring the r10k class

```puppet
class { '::profiles::puppet::r10k': }
```

#### Parameters

The following parameters are available in the `profiles::puppet::r10k` class.

##### `basedir`

Data type: `String`

Environments directory.

Default value: `'/etc/puppetlabs/code/environments'`

##### `mcollective`

Data type: `Boolean`

Manage mcollective bindings.

Default value: ``false``

##### `puppet_repo_url`

Data type: `Optional[String]`

Url to git repo where puppet code is stored.

Default value: ``undef``

### `profiles::repo`

This class can be used install repo components

#### Examples

##### when declaring the repo class

```puppet
class { '::profiles::repo': }
```

#### Parameters

The following parameters are available in the `profiles::repo` class.

##### `aptly`

Data type: `Boolean`



Default value: ``false``

##### `nexus`

Data type: `Boolean`



Default value: ``false``

### `profiles::repo::aptly`

This class can be used install aptly components.

#### Examples

##### when declaring the aptly class

```puppet
class { '::profiles::repo::aptly': }
```

#### Parameters

The following parameters are available in the `profiles::repo::aptly` class.

##### `api`

Data type: `Boolean`

Setup Api.

Default value: ``true``

##### `api_port`

Data type: `Integer`

Api port.

Default value: `8080`

##### `config`

Data type: `Hash`

Aptly config hash

Default value: `{}`

##### `enable_cli_and_http`

Data type: `Boolean`

Allow api and cli access.

Default value: ``true``

##### `key_server`

Data type: `String`

Key server to use.

Default value: `'keys.gnupg.net'`

##### `manage_repo`

Data type: `Boolean`

Let profile install repo.

Default value: ``false``

##### `mirrors`

Data type: `Hash`

Mirrors to manage

Default value: `{}`

##### `mount_point`

Data type: `String`

Directory to store packages.

Default value: `'/var/lib/aptly'`

##### `repos`

Data type: `Hash`

Repos to manage

Default value: `{}`

### `profiles::repo::nexus`

This class can be used install nexus components.

#### Examples

##### when declaring the nexus class

```puppet
class { '::profiles::repo::nexus': }
```

#### Parameters

The following parameters are available in the `profiles::repo::nexus` class.

##### `data_path`

Data type: `Stdlib::Absolutepath`



Default value: `'/srv'`

##### `device`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: ``undef``

##### `manage_disk`

Data type: `Boolean`



Default value: ``false``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `sd_service_name`

Data type: `String`



Default value: `'nexus'`

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

##### `version`

Data type: `String`



Default value: `'3.27.0'`

### `profiles::runtime`

This class can be used install runtime components.

#### Examples

##### when declaring the runtime class

```puppet
class { '::profiles::runtime': }
```

#### Parameters

The following parameters are available in the `profiles::runtime` class.

##### `docker`

Data type: `Boolean`

Manage docker on this node.

Default value: ``false``

##### `java`

Data type: `Boolean`

Manage java on this node.

Default value: ``false``

##### `golang`

Data type: `Boolean`

Manage golang on this node.

Default value: ``false``

##### `nodejs`

Data type: `Boolean`

Manage nodejs on this node.

Default value: ``false``

##### `php`

Data type: `Boolean`

Manage php on this node.

Default value: ``false``

##### `python`

Data type: `Boolean`

Manage python on this node.

Default value: ``false``

##### `ruby`

Data type: `Boolean`

Manage ruby on this node.

Default value: ``false``

##### `scala`

Data type: `Boolean`

Manage scala on this node.

Default value: ``false``

### `profiles::runtime::docker`

This class can be used install docker components.

#### Examples

##### when declaring the docker class

```puppet
class { '::profiles::runtime::docker': }
```

#### Parameters

The following parameters are available in the `profiles::runtime::docker` class.

##### `registries`

Data type: `Hash`



Default value: `{}`

### `profiles::runtime::golang`

This class can be used install golang

#### Examples

##### when declaring the golang class

```puppet
class { '::profiles::runtime::golang': }
```

### `profiles::runtime::java`

This class can be used install java components.

#### Examples

##### when declaring the java class

```puppet
class { '::profiles::runtime::java': }
```

#### Parameters

The following parameters are available in the `profiles::runtime::java` class.

##### `package`

Data type: `String`

Package to install.

Default value: `'java-11-openjdk-devel'`

##### `package_options`

Data type: `Optional[String]`

Additional package parameters.

Default value: ``undef``

### `profiles::runtime::nodejs`

This class can be used install nodejs

#### Examples

##### when declaring the nodejs class

```puppet
class { '::profiles::runtime::nodejs': }
```

#### Parameters

The following parameters are available in the `profiles::runtime::nodejs` class.

##### `manage_repo`

Data type: `Boolean`

Manage repo.

Default value: ``false``

##### `npm_package_ensure`

Data type: `String`

Install npm.

Default value: `'installed'`

##### `npm_packages`

Data type: `Hash`

List of packages to install using npm

Default value: `{}`

##### `packages`

Data type: `Hash`

List of packages to install

Default value: `{}`

##### `repo_url_suffix`

Data type: `String`

Version to install.

Default value: `'8.x'`

### `profiles::runtime::php`

This class can be used install php

#### Examples

##### when declaring the php class

```puppet
class { '::profiles::runtime::package': }
```

#### Parameters

The following parameters are available in the `profiles::runtime::php` class.

##### `collect_resources`

Data type: `Boolean`

Collect Exported Resources.

Default value: ``true``

##### `extensions`

Data type: `Hash`

Extensions to install.

Default value: `{}`

##### `extensions_default`

Data type: `Hash`

Extensions to install.

Default value: `{
    'apcu'     => {
      'ini_prefix'      => '40-',
      'package_prefix'  => 'php-pecl-',
      'settings'        => {
        'enabled'    => 1,
        'enable_cli' => 1,
        'shm_size'   => '256M',
        'ttl'        => '0',
      },
      'settings_prefix' => 'apc',
    },
    'gd'       => {},
    'intl'     => {},
    'json'     => {},
    'mbstring' => {},
    'mysqlnd'  => {},
    'opcache'  => {
      'ini_prefix'      => '10-',
      'settings'        => {
        'enable'                  => 1,
        'enable_cli'              => 1,
        'interned_strings_buffer' => 8,
        'max_accelerated_files'   => 20000,
        'memory_consumption'      => 256,
        'revalidate_freq'         => 60 ,
      },
      'zend'            => true,
    },
    'pdo'      => {},
    'xml'      => {},
  }`

##### `fpm_package`

Data type: `Optional[String]`

Fpm package to install.

Default value: ``undef``

##### `fpm_pools`

Data type: `Hash`

Fpm pools to to setup.

Default value: `{}`

##### `fpm_service_name`

Data type: `Optional[String]`

Fpm service name.

Default value: ``undef``

##### `install_cachetool`

Data type: `Boolean`

Install cachetool.

Default value: ``true``

##### `install_composer`

Data type: `Boolean`

Install composer.

Default value: ``false``

##### `install_fpm`

Data type: `Boolean`

Install fpm.

Default value: ``true``

##### `manage_repo`

Data type: `Boolean`

Manage repo.

Default value: ``false``

##### `modules`

Data type: `Array`

PHP modules to install

Default value: `[]`

##### `resource_tag`

Data type: `String`

Only export resources that are using this tag.

Default value: `$::fqdn`

##### `settings`

Data type: `Hash`

PHP conf settings.

Default value: `{}`

##### `settings_default`

Data type: `Hash`

PHP conf settings.

Default value: `{
    'Date/date.timezone'          => 'Europe/Amsterdam',
    'PHP/allow_url_fopen'         => 0,
    'PHP/assert.active'           => 0,
    'PHP/session.cookie_httponly' => 0,
    'PHP/disable_functions'       => 'exec, passthru, shell_exec, system, proc_open, popen, curl_exec, curl_multi_exec',
    'PHP/display_errors'          => 0,
    'PHP/display_startup_errors'  => 0,
    'PHP/error_reporting'         => 'E_ALL',
    'PHP/expose_php'              => 0,
    'PHP/file_uploads'            => 0,
    'PHP/log_errors'              => 1,
    'PHP/max_execution_time'      => '30',
    'PHP/max_input_time'          => '30',
    'PHP/memory_limit'            => '128M',
    'PHP/open_basedir'            => '/var/vhosts:/usr/local/bin',
    'PHP/post_max_size'           => '2M',
    'PHP/realpath_cache_size'     => '4096K',
    'PHP/realpath_cache_ttl'      => '600',
    'PHP/register_globals'        => 0,
    'PHP/session.cookie_lifetime' => '3600',
    'PHP/session.hash_function'   => 'sha256',
    'PHP/referer_check'           => 0,
    'PHP/session.use_strict_mode' => 1,
    'PHP/upload_tmp_dir'          => '/var/tmp',
    'PHP/upload_max_filesize'     => '32M',
    'PHP/max_file_uploads'        => 5,
    'PHP/zend.assertions'         => 0,
  }`

##### `version`

Data type: `String`

Version to install.

Default value: `'74'`

##### `xdebug`

Data type: `Boolean`

Install xdebug extension.

Default value: ``false``

##### `xdebug_config`

Data type: `Hash`

Xdebug settings.

Default value: `{
    'cli_color'                     => 1,
    'coverage_enable'               => 1,
    'force_display_errors'          => 1,
    'force_error_reporting'         => 1,
    'idekey'                        => 'supersecret',
    'profiler_enable'               => 0,
    'profiler_enable_trigger'       => 1,
    'profiler_enable_trigger_value' => 'supersecret',
    'remote_autostart'              => 0,
    'remote_enable'                 => 1,
    'remote_host'                   => 'localhost',
    'remote_port'                   => 9090,
    'scream'                        => 0,
  }`

### `profiles::runtime::php::cachetool`

This class can be used to install cachetool

#### Examples

##### when declaring the firewall class

```puppet
class { '::profiles::runtime::php::cachetool': }
```

#### Parameters

The following parameters are available in the `profiles::runtime::php::cachetool` class.

##### `group`

Data type: `Optional[String]`

Group of file

Default value: ``undef``

##### `install_dir`

Data type: `Stdlib::Absolutepath`

Install directory

Default value: `'/usr/local/bin'`

##### `install_method`

Data type: `Profiles::InstallMethod`

Install type.

Default value: `'archive'`

##### `package_name`

Data type: `String`

Package name.

Default value: `'cachetool'`

##### `package_version`

Data type: `String`

Version to be installed.

Default value: `'installed'`

##### `phar_source`

Data type: `String`

Download source.

Default value: `'http://gordalina.github.io/cachetool/downloads/cachetool.phar'`

##### `user`

Data type: `String`

Owner of the file.

Default value: `'root'`

### `profiles::runtime::php::repo`

The profiles::runtime::php::repo class.

#### Parameters

The following parameters are available in the `profiles::runtime::php::repo` class.

##### `version`

Data type: `Any`

Version to install.

Default value: `'74'`

### `profiles::runtime::python`

This class can be used install user python properties

#### Examples

##### when declaring the python class

```puppet
class { '::profiles::runtime::python': }
```

#### Parameters

The following parameters are available in the `profiles::runtime::python` class.

##### `manage_repo`

Data type: `Boolean`

Manage epel repository.

Default value: ``false``

##### `pip_packages`

Data type: `Hash`

List of pip packages to install.

Default value: `{}`

##### `packages`

Data type: `Hash`

List of packages to install

Default value: `{}`

### `profiles::runtime::ruby`

This class can be used install ruby

#### Examples

##### when declaring the ruby class

```puppet
class { '::profiles::runtime::ruby': }
```

#### Parameters

The following parameters are available in the `profiles::runtime::ruby` class.

##### `gem_packages`

Data type: `Hash`

List of packages to install using gem

Default value: `{}`

##### `packages`

Data type: `Hash`

List of packages to install

Default value: `{}`

##### `rubygems_package`

Data type: `String`

Rubygems package.

Default value: `'rubygems'`

### `profiles::runtime::scala`

This class can be used install scala components.

#### Examples

##### when declaring the scala class

```puppet
class { '::profiles::runtime::scala': }
```

#### Parameters

The following parameters are available in the `profiles::runtime::scala` class.

##### `development`

Data type: `Boolean`

Manage development packages on this node.

Default value: ``false``

### `profiles::scheduling`

This class can be used install scheduling components.

#### Examples

##### when declaring the scheduling class

```puppet
class { '::profiles::scheduling': }
```

#### Parameters

The following parameters are available in the `profiles::scheduling` class.

##### `nomad`

Data type: `Boolean`

Manage nomad on this node.

Default value: ``false``

### `profiles::scheduling::nomad`

This class can be used install nomad components.

#### Examples

##### when declaring the nomad class

```puppet
class { '::profiles::scheduling::nomad': }
```

#### Parameters

The following parameters are available in the `profiles::scheduling::nomad` class.

##### `config`

Data type: `Hash`



Default value: `{}`

##### `config_defaults`

Data type: `Hash`



Default value: `{
    'consul' => {
      'address' => '127.0.0.1:8500',
    },
    'data_dir'   => '/var/lib/nomad',
    'datacenter' => 'vagrant',
  }`

##### `config_dir`

Data type: `Stdlib::Absolutepath`



Default value: `'/etc/nomad.d'`

##### `consul_connect`

Data type: `Boolean`



Default value: ``false``

##### `job_port_range`

Data type: `String`



Default value: `'20000-32000'`

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``true``

##### `manage_sysctl`

Data type: `Boolean`



Default value: ``true``

##### `sd_service_name`

Data type: `String`



Default value: `'nomad-ui'`

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

##### `version`

Data type: `String`



Default value: `'0.12.8'`

### `profiles::scheduling::nomad::cni_plugins`

This class can be used install nomad cni plugins.

#### Examples

##### when declaring the nomad cni plugins class

```puppet
class { '::profiles::scheduling::nomad::cni_plugins': }
```

#### Parameters

The following parameters are available in the `profiles::scheduling::nomad::cni_plugins` class.

##### `arch`

Data type: `Any`



Default value: `'amd64'`

##### `download_url`

Data type: `Any`



Default value: ``undef``

##### `download_url_base`

Data type: `Any`



Default value: `'https://github.com/containernetworking/plugins/releases/download'`

##### `download_extension`

Data type: `Any`



Default value: `'tgz'`

##### `package_name`

Data type: `Any`



Default value: `'cni-plugins'`

##### `install_method`

Data type: `Enum['none','url']`



Default value: `'url'`

##### `version`

Data type: `String`



Default value: `'v0.8.7'`

### `profiles::security`

This class can be used install security components.

#### Examples

##### when declaring the security class

```puppet
class { '::profiles::security': }
```

#### Parameters

The following parameters are available in the `profiles::security` class.

##### `selinux`

Data type: `Boolean`

Manage selinux on this node.

Default value: ``false``

##### `vault`

Data type: `Boolean`



Default value: ``false``

### `profiles::security::selinux`

This class can be used install selinux components.

#### Examples

##### when declaring the selinux class

```puppet
class { '::profiles::selinux': }
```

#### Parameters

The following parameters are available in the `profiles::security::selinux` class.

##### `mode`

Data type: `String`

Selinux operation mode.

Default value: `'disabled'`

### `profiles::security::vault`

This class can be used install vault components.

#### Examples

##### when declaring the vault class

```puppet
class { '::profiles::security::vault': }
```

#### Parameters

The following parameters are available in the `profiles::security::vault` class.

##### `config_dir`

Data type: `Any`



Default value: `'/etc/vault.d'`

##### `enable_ui`

Data type: `Any`



Default value: ``true``

##### `listener`

Data type: `Variant[Hash, Array[Hash]]`



Default value: `{
    'tcp' => {
      'address'         => '127.0.0.1:8200',
      'cluster_address' => '127.0.0.1:8201',
      'tls_disable'     => 1,
    },
  }`

##### `extra_config`

Data type: `Hash`



Default value: `{ 'api_addr' => 'https://127.0.0.1:8200', 'cluster_addr' => 'https://127.0.0.1:8201' }`

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `manage_storage_dir`

Data type: `Boolean`



Default value: ``true``

##### `sd_service_name`

Data type: `String`



Default value: `'vault-ui'`

##### `sd_service_tags`

Data type: `Array`



Default value: `['metrics']`

##### `storage`

Data type: `Hash`



Default value: `{ 'consul' => { 'address' => '127.0.0.1:8500', 'path' => 'vault/' }}`

##### `telemetry`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `version`

Data type: `String`



Default value: `'1.6.0'`

### `profiles::storage`

A description of what this class does

#### Examples

##### 

```puppet
include profiles::storage
```

#### Parameters

The following parameters are available in the `profiles::storage` class.

##### `minio`

Data type: `Boolean`



Default value: ``false``

### `profiles::storage::minio`

A description of what this class does

#### Examples

##### 

```puppet
include profiles::storage::minio
```

#### Parameters

The following parameters are available in the `profiles::storage::minio` class.

##### `checksum`

Data type: `String`



Default value: `'e83fb22cfbe7ed8df7fd336a905bcb02292714c4ffd21f75a833de365e2c5e7d'`

##### `config`

Data type: `Hash`



Default value: `{}`

##### `config_default`

Data type: `Hash`



Default value: `{
    'MINIO_ACCESS_KEY'  => 'admin',
    'MINIO_SECRET_KEY'  => 'supersecret',
    'MINIO_REGION_NAME' => 'us-east-1',
    'MINIO_BROWSER'     => 'on',
  }`

##### `data_path`

Data type: `Stdlib::Absolutepath`



Default value: `'/var/lib/minio'`

##### `device`

Data type: `Optional[Stdlib::Absolutepath]`



Default value: ``undef``

##### `manage_disk`

Data type: `Boolean`



Default value: ``false``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `listen_address`

Data type: `Stdlib::Host`



Default value: `'127.0.0.1'`

##### `port`

Data type: `Optional[Stdlib::Port::Unprivileged]`



Default value: `9090`

##### `sd_service_name`

Data type: `String`



Default value: `'example'`

##### `sd_service_tags`

Data type: `Array`



Default value: `['metrics']`

##### `version`

Data type: `String`



Default value: `'RELEASE.2020-11-13T20-10-18Z'`

### `profiles::streaming`

This class can be used install streaming and zookeeper.

#### Examples

##### when declaring the streaming class

```puppet
class { '::profiles::streaming': }
```

#### Parameters

The following parameters are available in the `profiles::streaming` class.

##### `flink`

Data type: `Boolean`

Manage flink on this node.

Default value: ``false``

##### `kafka`

Data type: `Boolean`

Manage kafka on this node.

Default value: ``false``

##### `zookeeper`

Data type: `Boolean`

Manage zookeeper on this node.

Default value: ``false``

### `profiles::streaming::flink`

This class can be used to setup flink.

#### Examples

##### when declaring the node role

```puppet
class { '::profiles::flink': }
```

#### Parameters

The following parameters are available in the `profiles::streaming::flink` class.

##### `archive_source`

Data type: `String`

Flink Download url.

Default value: `'http://apache.mirror.triple-it.nl/flink/flink-1.11.1/flink-1.11.1-bin-scala_2.11.tgz'`

##### `install_method`

Data type: `String`

How to install flink.

Default value: `'package'`

### `profiles::streaming::kafka`

This class can be used install kafka components.

#### Examples

##### when declaring the kafka class

```puppet
class { '::profiles::streaming::kafka': }
```

#### Parameters

The following parameters are available in the `profiles::streaming::kafka` class.

##### `install_dir`

Data type: `String`

Directory to install to.

Default value: `'/opt/kafka_2.12-2.4.1'`

##### `install_method`

Data type: `String`

How to install kafka.

Default value: `'package'`

##### `package`

Data type: `String`

Package to install.

Default value: `'kafka_2.12'`

##### `scala_version`

Data type: `String`

Version of scala to depend on.

Default value: `'2.12'`

##### `version`

Data type: `String`

Version of kafka to install.

Default value: `'2.4.1'`

##### `zookeeper_config`

Data type: `Hash`

Kafka config settings.

Default value: `{ 'broker.id'                     => '0',
                            'inter.broker.protocol.version' => '0.10.1.0',
                            'log.dir'                       => '/opt/kafka/data',
                            'zookeeper.connect'             => 'localhost:2181' }`

### `profiles::streaming::zookeeper`

This class can be used install zookeeper components.

#### Examples

##### when declaring the zookeeper class

```puppet
class { '::profiles::streaming::zookeeper': }
```

#### Parameters

The following parameters are available in the `profiles::streaming::zookeeper` class.

##### `cdhver`

Data type: `String`

Cloudera RPM Repo version.

Default value: `'5'`

##### `cfg_dir`

Data type: `String`

Zookeeper configuration directory.

Default value: `'/opt/zookeeper/conf'`

##### `cleanup_sh`

Data type: `String`

Location to zkCleanup.sh

Default value: `'/opt/zookeeper/bin/zkCleanup.sh'`

##### `initialize_datastore`

Data type: `Boolean`

Create datastore.

Default value: ``false``

##### `install_method`

Data type: `String`

Install method.

Default value: `'package'`

##### `manage_service_file`

Manage service file.

##### `packages`

Data type: `Array`

List of pacakages to install.

Default value: `['zookeeper']`

##### `repo`

Data type: `Optional[String]`

Repository name.

Default value: ``undef``

##### `service_name`

Data type: `String`

Service name.

Default value: `'zookeeper'`

##### `zoo_dir`

Data type: `String`

Zookeeper directory.

Default value: `'/opt/zookeeper'`

### `profiles::testing`

This class can be used install testing components.

#### Examples

##### when declaring the testing class

```puppet
class { '::profiles::testing': }
```

#### Parameters

The following parameters are available in the `profiles::testing` class.

##### `develop`

Data type: `Boolean`

Manage ability to develop on this node.

Default value: ``false``

##### `jenkins`

Data type: `Boolean`

Manage jenkins on this node.

Default value: ``false``

### `profiles::testing::develop`

This class can be used install develop components.

#### Examples

##### when declaring the develop class

```puppet
class { '::profiles::testing::develop': }
```

#### Parameters

The following parameters are available in the `profiles::testing::develop` class.

##### `packages`

Data type: `Array`

Packages to install.

Default value: `['git']`

### `profiles::testing::jenkins`

This class can be used install jenkins components.

#### Examples

##### when declaring the jenkins class

```puppet
class { '::profiles::testing::jenkins': }
```

#### Parameters

The following parameters are available in the `profiles::testing::jenkins` class.

##### `casc`

Data type: `Boolean`



Default value: ``true``

##### `casc_config`

Data type: `Hash`



Default value: `{}`

##### `casc_config_default`

Data type: `Hash`



Default value: `{
    jenkins => {
      agentProtocols => [
        'JNLP4-connect',
        'Ping'
      ],
      authorizationStrategy => {
        loggedInUsersCanDoAnything => {
          allowAnonymousRead => false
        }
      },
      crumbIssuer => {
        standard => {
          excludeClientIPFromCrumb => true
        }
      },
      disableRememberMe => true,
      numExecutors  => $::processors['count'],
      remotingSecurity => {
        enabled => true
      },
      securityRealm => {
        local => {
          allowsSignup => false,
          enableCaptcha => false,
          users => [
            { id => 'admin', password => 'secret'},
            { id => 'slave', password => 'secret'},
          ]
        }
      },
      slaveAgentPort => 44444,
      systemMessage => "Jenkins configured automatically by Jenkins Configuration as Code plugin\n\n",
    },
    security => {
      globalJobDslSecurityConfiguration => {
        useScriptSecurity => false
      }
    },
    unclassified => {
      location => {
        url => "http://${::fqdn}",
      }
    }
  }`

##### `casc_reload_token`

Data type: `String`



Default value: `'supersecret'`

##### `config_hash`

Data type: `Hash`



Default value: `{}`

##### `java_options`

Data type: `String`



Default value: `'-Djava.awt.headless=true -Djenkins.install.runSetupWizard=false'`

##### `listen_address`

Data type: `Stdlib::Host`



Default value: `'127.0.0.1'`

##### `lts`

Data type: `Boolean`



Default value: ``true``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `manage_repo`

Data type: `Boolean`



Default value: ``false``

##### `master`

Data type: `Boolean`



Default value: ``true``

##### `master_url`

Data type: `String`



Default value: `"http://${::fqdn}"`

##### `plugins`

Data type: `Hash`



Default value: `{}`

##### `plugins_default`

Data type: `Hash`



Default value: `{
    ace-editor => {},
    antisamy-markup-formatter => {},
    apache-httpcomponents-client-4-api => {},
    authentication-tokens => {},
    bouncycastle-api => {},
    branch-api => {},
    configuration-as-code => {},
    command-launcher => {},
    cloudbees-folder => {},
    conditional-buildstep => {},
    credentials => {},
    credentials-binding => {},
    delivery-pipeline-plugin => {},
    docker-commons => {},
    docker-workflow => {},
    display-url-api => {},
    durable-task => {},
    external-monitor-job => {},
    git => {},
    git-client => {},
    git-server => {},
    handlebars => {},
    jdk-tool => {},
    job-dsl => {},
    jackson2-api => {},
    javadoc => {},
    jaxb => {},
    jsch => {},
    jquery => {},
    jquery-detached => {},
    junit => {},
    ldap => {},
    lockable-resources => {},
    mailer => {},
    matrix-auth => {},
    matrix-project => {},
    maven-plugin => {},
    modernstatus => {},
    momentjs => {},
    pam-auth => {},
    parameterized-trigger => {},
    pipeline-build-step => {},
    pipeline-graph-analysis => {},
    pipeline-input-step => {},
    pipeline-milestone-step => {},
    pipeline-model-api => {},
    pipeline-model-declarative-agent => {},
    pipeline-model-definition => {},
    pipeline-model-extensions => {},
    pipeline-rest-api => {},
    pipeline-stage-step => {},
    pipeline-stage-tags-metadata => {},
    pipeline-stage-view => {},
    plain-credentials  => {},
    run-condition => {},
    scm-api => {},
    script-security => {},
    ssh-credentials => {},
    structs => {},
    swarm => {},
    token-macro => {},
    trilead-api => {},
    windows-slaves => {},
    workflow-aggregator => {},
    workflow-api => {},
    workflow-basic-steps => {},
    workflow-cps => {},
    workflow-cps-global-lib => {},
    workflow-durable-task-step => {},
    workflow-job => {},
    workflow-multibranch => {},
    workflow-scm-step => {},
    workflow-step-api => {},
    workflow-support => {},
  }`

##### `port`

Data type: `Stdlib::Port::Unprivileged`



Default value: `8080`

##### `purge_plugins`

Data type: `Boolean`



Default value: ``true``

##### `sd_service_name`

Data type: `String`



Default value: `'jenkins'`

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

##### `slave`

Data type: `Boolean`



Default value: ``false``

##### `slave_disable_ssl_verification`

Data type: `Boolean`



Default value: ``true``

##### `slave_executors`

Data type: `Integer`



Default value: `$::processors['count']`

##### `slave_user`

Data type: `String`



Default value: `'slave'`

##### `slave_password`

Data type: `String`



Default value: `'secret'`

##### `slave_version`

Data type: `String`



Default value: `'3.22'`

### `profiles::tools`

This class can be used install tools components.

#### Examples

##### when declaring the tools class

```puppet
class { '::profiles::tools': }
```

#### Parameters

The following parameters are available in the `profiles::tools` class.

##### `compile`

Data type: `Boolean`

Manage ability to compile on this node.

Default value: ``false``

##### `package`

Data type: `Boolean`

Manage abiltiy to create packages on this node.

Default value: ``false``

### `profiles::tools::compile`

This class can be used install compile components.

#### Examples

##### when declaring the compile class

```puppet
class { '::profiles::tools::compile': }
```

### `profiles::tools::package`

This class can be used install packaging dependencies

#### Examples

##### when declaring the package class

```puppet
class { '::profiles::tools::package': }
```

### `profiles::tracing`

A description of what this class does

#### Examples

##### 

```puppet
include profiles::tracing
```

#### Parameters

The following parameters are available in the `profiles::tracing` class.

##### `tempo`

Data type: `Boolean`



Default value: ``false``

### `profiles::tracing::tempo`

A description of what this class does

#### Examples

##### 

```puppet
include profiles::tracing::tempo
```

#### Parameters

The following parameters are available in the `profiles::tracing::tempo` class.

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `sd_service_name`

Data type: `String`



Default value: `'tempo'`

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

##### `version`

Data type: `String`



Default value: `'0.3.0'`

##### `auth_enabled`

Data type: `Optional[Boolean]`



Default value: ``undef``

##### `compactor_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `distributor_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `ingester_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `memberlist_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `server_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

##### `storage_config_hash`

Data type: `Optional[Hash]`



Default value: ``undef``

### `profiles::website`

== Class: profiles::website

This class can be used install website components

=== Examples

=== Parameters

#### Examples

##### when declaring the website class

```puppet
class { '::profiles::website': }
```

#### Parameters

The following parameters are available in the `profiles::website` class.

##### `apache`

Data type: `Boolean`

Manage apache on this node.

Default value: ``false``

##### `haproxy`

Data type: `Boolean`

Manage haproxy on this node.

Default value: ``false``

##### `letsencrypt`

Data type: `Boolean`

Manage letsencrypt certificates on this node.

Default value: ``false``

##### `nginx`

Data type: `Boolean`

Manage nginx on this node.

Default value: ``false``

##### `traefik`

Data type: `Boolean`

Manage nginx on this node.

Default value: ``false``

##### `uwsgi`

Data type: `Boolean`

Manage uwsgi on this node.

Default value: ``false``

##### `traefik2`

Data type: `Boolean`



Default value: ``false``

### `profiles::website::apache`

This class can be used install apache and web properties

#### Examples

##### when declaring the apache class

```puppet
class { '::profiles::website::apache': }
```

#### Parameters

The following parameters are available in the `profiles::website::apache` class.

##### `default_mods`

Data type: `Boolean`

Modules to install.

Default value: ``true``

##### `default_vhost`

Data type: `Boolean`

Keep default vhost

Default value: ``false``

##### `modules`

Data type: `Hash`

List of modules to install

Default value: `{
    'proxy' => {},
    'proxy_fcgi' => {},
  }`

##### `mpm_module`

Data type: `String`

MPM module.

Default value: `'prefork'`

##### `purge_configs`

Data type: `Boolean`

Purge unmanaged config files.

Default value: ``false``

##### `purge_vhost_dir`

Data type: `Boolean`

Purge unmanaged vhost files.

Default value: ``false``

##### `vhosts`

Data type: `Hash`

Vhosts to manage.

Default value: `{}`

##### `vhost_packages`

Data type: `Hash`

Packages to manage that contain vhosts files.

Default value: `{}`

### `profiles::website::haproxy`

This class can be used install haproxy

#### Examples

##### when declaring the haproxy class

```puppet
class { '::profiles::website::haproxy': }
```

#### Parameters

The following parameters are available in the `profiles::website::haproxy` class.

##### `listeners`

Data type: `Hash`

listeners to configure.

Default value: `{}`

##### `members`

Data type: `Hash`

Balance members to configure.

Default value: `{}`

### `profiles::website::letsencrypt`

This class can be used install user letsencrypt properties

#### Examples

##### when declaring the apache class

```puppet
class { '::profiles::website::letsencrypt': }
```

#### Parameters

The following parameters are available in the `profiles::website::letsencrypt` class.

##### `certs`

Data type: `Hash`

List of certs to accuire.

Default value: `{}`

##### `email_registration`

Data type: `String`

Email address to register with

Default value: `''`

##### `unsafe_registration`

Data type: `Boolean`

Make request anonymous.

Default value: ``false``

### `profiles::website::nginx`

Class: profiles::website::nginx

This class can be used install nginx and web properties

=== Examples

=== Parameters

#### Examples

##### when declaring the nginx class

```puppet
class { '::profiles::website::nginx': }
```

#### Parameters

The following parameters are available in the `profiles::website::nginx` class.

##### `client_body_buffer_size`

Data type: `String`

Sets buffer size for reading client request body.

Default value: `'1k'`

##### `client_max_body_size`

Data type: `String`

Sets the maximum allowed size of the client request body.

Default value: `'1k'`

##### `daemon_user`

Data type: `String`

User that runs nginx

Default value: `'nginx'`

##### `upstreams`

Data type: `Hash`

Set(s) of upstream servers to use

Default value: `{}`

##### `purge_configs`

Data type: `Boolean`

Purge unmanaged config files.

Default value: ``true``

##### `stream`

Data type: `Boolean`

Enable streaming hosts.

Default value: ``false``

##### `streams`

Data type: `Hash`

Set(s) of streams.

Default value: `{}`

##### `vhosts`

Data type: `Hash`

Set(s) of vhost to create

Default value: `{}`

##### `vhost_packages`

Data type: `Hash`

Packages to manage that contain vhosts files.

Default value: `{}`

##### `proxies`

Data type: `Hash`



Default value: `{}`

### `profiles::website::traefik`

Class: profiles::website::traefik

This class can be used install traefik and web properties

=== Examples

#### Examples

##### when declaring the traefik class

```puppet
class { '::profiles::website::traefik': }
```

#### Parameters

The following parameters are available in the `profiles::website::traefik` class.

##### `acme_email_address`

Data type: `Optional[String]`



Default value: ``undef``

##### `config_dir`

Data type: `Stdlib::Absolutepath`



Default value: `'/etc/traefik.d'`

##### `config`

Data type: `Hash`



Default value: `{
    'debug' => false,
    'logLevel' => 'ERROR',
  }`

##### `consul_domain`

Data type: `String`



Default value: `'consul'`

##### `consul_endpoint`

Data type: `String`



Default value: `'127.0.0.1:8500'`

##### `protocol`

Data type: `Enum['http','https']`



Default value: `'https'`

##### `expose_api`

Data type: `Boolean`



Default value: ``true``

##### `expose_metrics`

Data type: `Boolean`



Default value: ``true``

##### `expose_ui`

Data type: `Boolean`



Default value: ``false``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `sd_service_name`

Data type: `String`



Default value: `'traefik'`

##### `sd_service_tags`

Data type: `Array`



Default value: `['metrics']`

##### `tls_cipher_suites`

Data type: `Array`



Default value: `[
    'TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384',       # TLS 1.2
    'TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256', # TLS 1.2
    'TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256',       # TLS 1.2
    'TLS_FALLBACK_SCSV'
  ]`

##### `tls_min_version`

Data type: `Enum['VersionTLS12','VersionTLS13']`



Default value: `'VersionTLS12'`

##### `tls_sni_strict`

Data type: `Boolean`



Default value: ``true``

##### `use_consul`

Data type: `Boolean`



Default value: ``true``

##### `version`

Data type: `String`



Default value: `'1.7.26'`

### `profiles::website::traefik2`

A description of what this class does

#### Examples

##### 

```puppet
include profiles::website::traefik2
```

#### Parameters

The following parameters are available in the `profiles::website::traefik2` class.

##### `dynamic_config`

Data type: `Hash`



Default value: `{}`

##### `expose_api`

Data type: `Boolean`



Default value: ``true``

##### `expose_metrics`

Data type: `Boolean`



Default value: ``true``

##### `expose_ui`

Data type: `Boolean`



Default value: ``false``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``true``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `protocol`

Data type: `Enum['http','https']`



Default value: `'https'`

##### `sd_service_name`

Data type: `String`



Default value: `'traefik'`

##### `sd_service_tags`

Data type: `Array`



Default value: `['metrics']`

##### `static_config`

Data type: `Hash`



Default value: `{}`

##### `traefik_api_port`

Data type: `Integer`



Default value: `8080`

##### `version`

Data type: `String`



Default value: `'2.3.2'`

### `profiles::website::uwsgi`

== Class: profiles::website::uwsgi

Profile for uwsgi including plugins.

=== Parameters

#### Parameters

The following parameters are available in the `profiles::website::uwsgi` class.

##### `apps`

Data type: `Hash`

List of applications that run under uwsgi

Default value: `{}`

##### `emperor_options`

Data type: `Hash`

Extra options to set in the emperor config file

Default value: `{}`

##### `group`

Data type: `String`

Group the service belongs to

Default value: `'uwgsi'`

##### `install_pip`

Data type: `Boolean`

Use pip to install uwsgi

Default value: ``false``

##### `install_python_dev`

Data type: `Boolean`

Indicates if python-dev package should be installed

Default value: ``false``

##### `package_name`

Data type: `String`

Name of uwsgi package

Default value: `'uwsgi'`

##### `package_ensure`

Data type: `String`

Indicates what state the package should be in

Default value: `'installed'`

##### `package_provider`

Data type: `String`

Indicates what backend to use for this package

Default value: `'yum'`

##### `plugins`

Data type: `Array`

List of uwsgi plugins

Default value: `[]`

##### `service_ensure`

Data type: `Boolean`

Indicates whether the service should be running

Default value: ``true``

##### `service_enable`

Data type: `Boolean`

Indicates whether the service should be enabled to start

Default value: ``true``

##### `service_name`

Data type: `String`

Name of the running service

Default value: `'uwsgi-emperor'`

##### `service_provider`

Data type: `String`

The specific backend for this service

Default value: `'systemd'`

##### `socket`

Data type: `Optional[String]`

Directory where the sockets will be created

Default value: ``undef``

##### `user`

Data type: `String`

Indicates the user that runs the service

Default value: `'uwgsi'`

## Defined types

### `profiles::bootstrap::disk::mount`

This class can be used install user mount properties

#### Examples

##### when declaring the mount defined type

```puppet
::profiles::bootstrap::disk::mount{'/dev/sdb': }
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::disk::mount` defined type.

##### `device`

Data type: `Stdlib::Absolutepath`



##### `createfs`

Data type: `Boolean`



Default value: ``true``

##### `ensure`

Data type: `Enum['absent', 'present']`



Default value: `present`

##### `fs_type`

Data type: `Enum['ext4']`



Default value: `'ext4'`

##### `mountpath`

Data type: `Stdlib::Absolutepath`



Default value: `$name`

##### `mounted`

Data type: `Boolean`



Default value: ``true``

### `profiles::bootstrap::firewall::entry`

This class can be used install user firewall properties

#### Examples

##### when declaring the firewall class

```puppet
::profiles::bootstrap::firewall::entry { '200 allow influxdb':
  port => [8086, 8088],
}
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::firewall::entry` defined type.

##### `action`

Data type: `Profiles::FirewallAction`

Action to perform.

Default value: `'accept'`

##### `chain`

Data type: `Profiles::FirewallChain`

User base chain

Default value: `'INPUT'`

##### `interface`

Data type: `Optional[String]`

Interface to describe.

Default value: ``undef``

##### `port`

Data type: `Optional[Variant[Integer, Array[Integer],Array[String]]]`

System port.

Default value: ``undef``

##### `protocol`

Data type: `Profiles::FirewallProtocol`

Protocol to use.

Default value: `'tcp'`

##### `provider`

Data type: `Profiles::FirewallProvider`

Provider to use.

Default value: `'iptables'`

##### `state`

Data type: `Optional[Variant[Profiles::FirewallState, Array[Profiles::FirewallState]]]`

Packet State

Default value: ``undef``

### `profiles::bootstrap::sysctl::entry`

This class can be used install user sysctl properties

#### Examples

##### when declaring the sysctl class

```puppet
::profiles::bootstrap::sysctl::entry { 'net.ipv4.ip_forward': }
```

#### Parameters

The following parameters are available in the `profiles::bootstrap::sysctl::entry` defined type.

##### `ensure`

Data type: `Enum['absent','present']`



Default value: `'present'`

##### `comment`

Data type: `String`



Default value: `''`

##### `value`

Data type: `Any`



Default value: `1`

### `profiles::database::postgresql::db`

This class can be used to create pgsql databases

#### Examples

##### when declaring the postgresql class

```puppet
class { '::profiles::database::postgresql::db': }
```

#### Parameters

The following parameters are available in the `profiles::database::postgresql::db` defined type.

##### `password`

Data type: `String`



##### `user`

Data type: `String`



##### `encrypted`

Data type: `Boolean`



Default value: ``true``

##### `grant`

Data type: `String`



Default value: `'ALL'`

### `profiles::dns::bind::zone`

This class can be used to create a bind9 zone

#### Examples

##### when declaring the bind class

```puppet
::profiles::dns::bind::zone { 'foo.bar': }
```

#### Parameters

The following parameters are available in the `profiles::dns::bind::zone` defined type.

##### `reverse`

Data type: `Boolean`



Default value: ``false``

##### `soa`

Data type: `String`



Default value: `$::fqdn`

##### `soaip`

Data type: `Optional[Stdlib::IP::Address::V4]`



Default value: ``undef``

##### `update_policy`

Data type: `Optional[Dns::UpdatePolicy]`



Default value: ``undef``

### `profiles::metrics::grafana::dashboard`

== Type: profiles::metrics::grafana::dashboard

Type to manage grafana dashboard

=== Examples

=== Params

#### Examples

##### when declaring the datasource class

```puppet
profiles::metrics::grafana::dashboard { 'example':
  content => 'path/to/exported/file.json'
}
```

#### Parameters

The following parameters are available in the `profiles::metrics::grafana::dashboard` defined type.

##### `content`

Data type: `Optional[String]`

Path to json-file.

Default value: ``undef``

##### `grafana_password`

Data type: `Optional[String]`

Password for admin account.

Default value: ``undef``

##### `grafana_url`

Data type: `Optional[String]`

Grafana endpoint.

Default value: ``undef``

##### `grafana_user`

Data type: `Optional[String]`

Grafana admin user.

Default value: ``undef``

### `profiles::metrics::grafana::datasource`

Class to manage grafana datasources.

#### Examples

##### when declaring the datasource class

```puppet
profiles::metrics::grafana::datasource { 'example':
  value => 'foo'
}
```

#### Parameters

The following parameters are available in the `profiles::metrics::grafana::datasource` defined type.

##### `access_mode`

Data type: `Optional[String]`

Proxy vs direct.

Default value: ``undef``

##### `database`

Data type: `Optional[String]`

Backend database.

Default value: ``undef``

##### `grafana_password`

Data type: `Optional[String]`

Password for admin account.

Default value: ``undef``

##### `grafana_url`

Data type: `Optional[String]`

Grafana endpoint.

Default value: ``undef``

##### `grafana_user`

Data type: `Optional[String]`

Grafana admin user.

Default value: ``undef``

##### `is_default`

Data type: `Optional[Boolean]`

Make datasource the default.

Default value: ``false``

##### `password`

Data type: `Optional[String]`

Backend credential.

Default value: ``undef``

##### `type`

Data type: `Optional[String]`

Backend type.

Default value: ``undef``

##### `url`

Data type: `Optional[String]`

Backend location.

Default value: ``undef``

##### `user`

Data type: `Optional[String]`

Backend credential.

Default value: ``undef``

### `profiles::orchestration::consul::service`

This class can be used to create a consul service

#### Examples

##### when declaring this class

```puppet
::profiles::orchestration::consul::service { 'foo': }
```

#### Parameters

The following parameters are available in the `profiles::orchestration::consul::service` defined type.

##### `checks`

Data type: `Array[Hash]`



Default value: `[]`

##### `port`

Data type: `Stdlib::Port`



Default value: ``undef``

##### `service_name`

Data type: `String`



Default value: `$title`

##### `tags`

Data type: `Array[String]`



Default value: `[]`

### `profiles::puppet::foreman::plugin`

Class to manage foreman plugins.

#### Examples

##### when declaring the apache class

```puppet
profiles::puppet::puppet::foreman::plugin { 'example':
  value => 'foo'
}
```

#### Parameters

The following parameters are available in the `profiles::puppet::foreman::plugin` defined type.

##### `value`

plugin value.

##### `package`

Data type: `String[1]`



Default value: `"${::foreman::plugin_prefix}${title}"`

### `profiles::puppet::foreman::setting`

Class to manage foreman parameters.

#### Examples

##### when declaring the apache class

```puppet
profiles::puppet::puppet::foreman::setting { 'example':
  value => 'foo'
}
```

#### Parameters

The following parameters are available in the `profiles::puppet::foreman::setting` defined type.

##### `value`

Data type: `Variant[Boolean, Integer, String]`

Setting value.

### `profiles::runtime::php::pool`

This class can be used to create a php-fpm pool

#### Examples

##### when declaring this class

```puppet
::profiles::runtime::php::pool { 'www': }
```

#### Parameters

The following parameters are available in the `profiles::runtime::php::pool` defined type.

##### `address`

Data type: `Stdlib::IP::Address`

Ipaddress to bind to.

Default value: `'127.0.0.1'`

##### `cachetool_config`

Data type: `Boolean`

Install cachetool config.

Default value: ``true``

##### `cachetool_config_dir`

Data type: `Optional[Stdlib::Absolutepath]`

directory to install cachetool config in.

Default value: ``undef``

##### `port`

Data type: `Stdlib::Port::Unprivileged`

Port to bind to.

Default value: `9000`

##### `process_manager`

Data type: `Enum['static','dynamic','ondemand']`

Way to run the fpm process manager.

Default value: `'static'`

##### `type`

Data type: `Enum['port','socket']`

Way to run fpm.

Default value: `'port'`

### `profiles::testing::jenkins::plugin`

This class can be used to install a jenkins plugin

#### Examples

##### when declaring this class

```puppet
::profiles::testing::jenkins::plugin { 'foo.bar': }
```

#### Parameters

The following parameters are available in the `profiles::testing::jenkins::plugin` defined type.

##### `version`

Data type: `Optional[String]`



Default value: ``undef``

### `profiles::website::nginx::proxy`

This class can be used to create a nginx proxy

#### Examples

##### when declaring this class

```puppet
::profiles::website::nginx::proxy { 'foo.bar': }
```

#### Parameters

The following parameters are available in the `profiles::website::nginx::proxy` defined type.

##### `proxy_url`

Data type: `Stdlib::HTTPUrl`



##### `client_max_body_size`

Data type: `Any`



Default value: ``undef``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``false``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `port`

Data type: `Stdlib::Port`



Default value: `80`

##### `protocol`

Data type: `Enum['http']`



Default value: `'http'`

##### `proxy_buffering`

Data type: `Optional[String]`



Default value: ``undef``

##### `proxy_http_version`

Data type: `Optional[String]`



Default value: ``undef``

##### `proxy_read_timeout`

Data type: `String`



Default value: `'90s'`

##### `proxy_set_header`

Data type: `Array`



Default value: `[
    'Host $host',
    'X-Real-IP $remote_addr',
    'X-Forwarded-For $proxy_add_x_forwarded_for',
    'Proxy ""',
  ]`

##### `public_name`

Data type: `Stdlib::Host`



Default value: `$name`

##### `sd_service_name`

Data type: `String`



Default value: `$name`

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

### `profiles::website::nginx::vhost`

This class can be used to create a nginx vhost

#### Examples

##### when declaring this class

```puppet
::profiles::website::nginx::vhost { 'foo.bar': }
```

#### Parameters

The following parameters are available in the `profiles::website::nginx::vhost` defined type.

##### `www_root`

Data type: `Stdlib::Absolutepath`



##### `fastcgi`

Data type: `Optional[String]`



Default value: ``undef``

##### `fastcgi_index`

Data type: `Optional[String]`



Default value: ``undef``

##### `manage_firewall_entry`

Data type: `Boolean`



Default value: ``false``

##### `manage_sd_service`

Data type: `Boolean`



Default value: ``false``

##### `port`

Data type: `Stdlib::Port`



Default value: `80`

##### `protocol`

Data type: `Enum['http']`



Default value: `'http'`

##### `public_name`

Data type: `Array[String]`



Default value: `[$name]`

##### `sd_service_name`

Data type: `String`



Default value: `$name`

##### `sd_service_tags`

Data type: `Array`



Default value: `[]`

## Data types

### `Profiles::FirewallAction`

The Profiles::FirewallAction data type.

Alias of `Enum['accept', 'drop', 'reject']`

### `Profiles::FirewallChain`

The Profiles::FirewallChain data type.

Alias of `Enum['INPUT', 'FORWARD', 'OUTPUT', 'PREROUTING', 'POSTROUTING']`

### `Profiles::FirewallProtocol`

The Profiles::FirewallProtocol data type.

Alias of `Enum['icmp', 'tcp', 'sctp', 'udp', 'all']`

### `Profiles::FirewallProvider`

The Profiles::FirewallProvider data type.

Alias of `Enum['ip6tables', 'iptables']`

### `Profiles::FirewallState`

The Profiles::FirewallState data type.

Alias of `Enum['INVALID', 'ESTABLISHED', 'NEW', 'RELATED', 'UNRELATED']`

### `Profiles::InstallMethod`

The Profiles::InstallMethod data type.

Alias of `Enum['archive', 'package']`

## Plans

### `profiles::apt_update`

The profiles::apt_update class.

#### Parameters

The following parameters are available in the `profiles::apt_update` plan.

##### `targets`

Data type: `TargetSpec`



Default value: `'prod'`

### `profiles::puppet_run`

The profiles::puppet_run class.

#### Parameters

The following parameters are available in the `profiles::puppet_run` plan.

##### `targets`

Data type: `TargetSpec`



### `profiles::r10k_deploy`

The profiles::r10k_deploy class.

#### Parameters

The following parameters are available in the `profiles::r10k_deploy` plan.

##### `environment`

Data type: `String`



Default value: `''`

##### `targets`

Data type: `TargetSpec`



Default value: `'puppet'`

### `profiles::yum_update`

The profiles::yum_update class.

#### Parameters

The following parameters are available in the `profiles::yum_update` plan.

##### `targets`

Data type: `TargetSpec`



